<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šå·´èƒºè‹±èªå–®å­—å¡ - å­—æ¯C</title>
    <style>
        :root {
            /* å¤šå·´èƒºè‰²ç¥¨ Dopamine Palette */
            --bg-color: #FFFBEB; /* æŸ”å’Œé»ƒåº• */
            --card-front: #FFDE59; /* äº®é»ƒ */
            --card-back: #7ED957; /* é®®ç¶  */
            --text-primary: #333;
            --btn-master: #FF5757; /* çŠç‘šç´… */
            --btn-learn: #5CE1E6; /* äº®é’ */
            --btn-arrow: #CB6CE6; /* ç´«è‰² */
            --btn-reset: #FF9F1C; /* é®®æ©˜è‰² */
        }

        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        /* å³ä¸Šè§’é‡ç½®æŒ‰éˆ• */
        .reset-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--btn-reset);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
            transition: transform 0.1s;
            z-index: 100;
        }

        .reset-btn:active {
            transform: translateY(2px);
            box-shadow: none;
        }

        /* å¡ç‰‡å®¹å™¨èˆ‡ç¿»è½‰æ•ˆæœ */
        .card-container {
            width: 90%;
            max-width: 400px;
            height: 500px;
            perspective: 1000px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 30px;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            border: 5px solid #fff;
        }

        /* æ­£é¢è¨­è¨ˆ */
        .card-front {
            background-color: var(--card-front);
            color: var(--text-primary);
        }

        /* å–‡å­åœ–ç¤ºæ¨£å¼ */
        .speaker-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem; /* åœ–ç¤ºå¤§å° */
            cursor: pointer;
            background: rgba(255,255,255,0.4);
            width: 60px;
            height: 60px;
            line-height: 60px;
            border-radius: 50%;
            transition: transform 0.2s, background 0.2s;
            z-index: 50; /* ç¢ºä¿å®ƒåœ¨æœ€ä¸Šå±¤ */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .speaker-icon:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.8);
        }

        .speaker-icon:active {
            transform: scale(0.95);
        }

        .english-word {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: #FF6B6B;
            text-shadow: 2px 2px 0px #FFF;
        }

        .pos-tag {
            background: #FFF;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #555;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        /* èƒŒé¢è¨­è¨ˆ */
        .card-back {
            background-color: var(--card-back);
            color: var(--text-primary);
            transform: rotateY(180deg);
        }

        .chinese-def {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #FFF;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
        }

        .example-sentence {
            font-size: 1.4rem;
            line-height: 1.6;
            background: rgba(255,255,255,0.3);
            padding: 15px;
            border-radius: 15px;
            white-space: pre-wrap; /* è®“ä¾‹å¥ä¸­çš„æ›è¡Œç¬¦è™Ÿç”Ÿæ•ˆ */
        }

        /* æ§åˆ¶å€ */
        .controls {
            display: flex;
            gap: 20px;
            align-items: center;
            width: 90%;
            max-width: 400px;
            justify-content: space-between;
        }

        .arrow-btn {
            background: var(--btn-arrow);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            transition: transform 0.1s;
        }

        .action-btn {
            border: none;
            padding: 15px 25px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            flex: 1;
        }

        .btn-master { background-color: var(--btn-master); }
        .btn-learn { background-color: var(--btn-learn); color: #333; }
        
        button:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .progress {
            margin-top: 20px;
            font-size: 1rem;
            color: #888;
        }
        
        .empty-state {
            display: none;
            text-align: center;
            font-size: 1.5rem;
            color: #333;
        }

    </style>
</head>
<body>

    <button class="reset-btn" onclick="confirmReset()">ğŸ”„ å…¨éƒ¨é‡ä¾†</button>

    <div class="progress">é€²åº¦ï¼š<span id="current-index">0</span> / <span id="total-count">101</span></div>

    <div class="card-container" id="card-container" onclick="flipCard()">
        <div class="card" id="card">
            <div class="card-face card-front">
                <div class="speaker-icon" onclick="playAudio(event)">ğŸ”Š</div>
                
                <div class="english-word" id="word"></div>
                <div class="pos-tag" id="pos"></div>
                <div style="margin-top:20px; font-size: 0.9rem; opacity: 0.7;">(é»æ“Šå¡ç‰‡ç¿»é¢)</div>
            </div>
            <div class="card-face card-back">
                <div class="chinese-def" id="def"></div>
                <div class="example-sentence" id="sentence"></div>
            </div>
        </div>
    </div>
    
    <div class="empty-state" id="empty-state">
        <h2>ğŸ‰ å¤ªæ£’äº†ï¼</h2>
        <p>æ‰€æœ‰å–®å­—éƒ½å·²ç²¾ç†Ÿï¼</p>
        <button class="action-btn btn-learn" onclick="resetProgress()">é‡æ–°é–‹å§‹</button>
    </div>

    <div class="controls" id="controls">
        <button class="arrow-btn" onclick="prevCard()">&#8592;</button>
        <button class="action-btn btn-master" onclick="markMastered()">ğŸ’– å·²ç²¾ç†Ÿ</button>
        <button class="action-btn btn-learn" onclick="markLearning()">ğŸ’ª å­¸ç¿’ä¸­</button>
        <button class="arrow-btn" onclick="nextCard()">&#8594;</button>
    </div>

    <script>
        // è³‡æ–™ä¾†æºï¼šå­—æ¯C å–®å­—åˆ—è¡¨ (å…± 101 å€‹å–®å­—)
        const vocabData = [
            { word: "cabbage", pos: "noun", def: "é«˜éº—èœ", ex: "I made soup with  cabbage . (æˆ‘ç”¨é«˜éº—èœç…®æ¹¯ã€‚)" },
            { word: "cafeteria", pos: "noun", def: "è‡ªåŠ©é¤å»³", ex: "We eat lunch in the  cafeteria . (æˆ‘å€‘åœ¨è‡ªåŠ©é¤å»³åƒåˆé¤ã€‚)" },
            { word: "cage", pos: "noun", def: "ç± å­", ex: "The bird is in a  cage . (é³¥åœ¨ç± å­è£¡ã€‚)" },
            { word: "cake", pos: "noun", def: "è›‹ç³•", ex: "I baked a chocolate  cake . (æˆ‘çƒ¤äº†ä¸€å€‹å·§å…‹åŠ›è›‹ç³•ã€‚)" },
            { word: "call", pos: "verb", def: "æ‰“é›»è©±ã€å‘¼å–Š", ex: "Please  call  me tomorrow. (è«‹æ˜å¤©æ‰“é›»è©±çµ¦æˆ‘ã€‚)" },
            { word: "calm", pos: "adj.", def: "å¹³éœçš„ã€é®éœçš„", ex: "The sea is very  calm  today. (ä»Šå¤©æµ·é¢éå¸¸å¹³éœã€‚)" },
            { word: "camera", pos: "noun", def: "ç…§ç›¸æ©Ÿ", ex: "Don't forget your  camera . (åˆ¥å¿˜äº†ä½ çš„ç›¸æ©Ÿã€‚)" },
            { word: "camp", pos: "noun/verb", def: "ç‡Ÿåœ°ï¼›ç´®ç‡Ÿ", ex: "We went to summer  camp . (æˆ‘å€‘å»åƒåŠ å¤ä»¤ç‡Ÿã€‚)" },
            { word: "can", pos: "aux. verb", def: "å¯ä»¥ã€èƒ½", ex: "I  can  speak English. (æˆ‘æœƒèªªè‹±æ–‡ã€‚)" },
            { word: "cancel", pos: "verb", def: "å–æ¶ˆ", ex: "They had to  cancel  the meeting. (ä»–å€‘å¿…é ˆå–æ¶ˆæœƒè­°ã€‚)" },
            { word: "cancer", pos: "noun", def: "ç™Œç—‡", ex: "Smoking may cause  cancer . (å¸è¸å¯èƒ½æœƒå°è‡´ç™Œç—‡ã€‚)" },
            { word: "candidate", pos: "noun", def: "å€™é¸äºº", ex: "She is the best  candidate  for the job. (å¥¹æ˜¯é€™ä»½å·¥ä½œçš„æœ€ä½³å€™é¸äººã€‚)" },
            { word: "candy", pos: "noun", def: "ç³–æœ", ex: "I bought some  candy . (æˆ‘è²·äº†ä¸€äº›ç³–æœã€‚)" },
            { word: "canyon", pos: "noun", def: "å³½è°·", ex: "The Grand  Canyon  is amazing. (å¤§å³½è°·ä»¤äººé©šå˜†ã€‚)" },
            { word: "cap", pos: "noun", def: "å¸½å­ (ç„¡é‚Šå¸½)", ex: "He wore a baseball  cap . (ä»–æˆ´è‘—ä¸€é ‚æ£’çƒå¸½ã€‚)" },
            { word: "capable", pos: "adj.", def: "æœ‰èƒ½åŠ›çš„", ex: "I am  capable  of doing this. (æˆ‘æœ‰èƒ½åŠ›åšé€™ä»¶äº‹ã€‚)" },
            { word: "capital", pos: "noun", def: "é¦–éƒ½", ex: "Taipei is the  capital  of Taiwan. (å°åŒ—æ˜¯å°ç£çš„é¦–éƒ½ã€‚)" },
            { word: "car", pos: "noun", def: "æ±½è»Š", ex: "I bought a new  car . (æˆ‘è²·äº†ä¸€è¼›æ–°è»Šã€‚)" },
            { word: "card", pos: "noun", def: "å¡ç‰‡", ex: "I sent her a birthday  card . (æˆ‘å¯„çµ¦å¥¹ä¸€å¼µç”Ÿæ—¥å¡ã€‚)" },
            { word: "care", pos: "noun/verb", def: "é—œå¿ƒï¼›å°å¿ƒ", ex: "Take  care  of yourself. (ä¿é‡/ç…§é¡§å¥½è‡ªå·±ã€‚)" },
            { word: "career", pos: "noun", def: "è·æ¥­", ex: "He has a successful  career . (ä»–æœ‰ä¸€å€‹æˆåŠŸçš„äº‹æ¥­ã€‚)" },
            { word: "careful", pos: "adj.", def: "å°å¿ƒçš„", ex: "Be  careful  when you cross the street. (éé¦¬è·¯æ™‚è¦å°å¿ƒã€‚)" },
            { word: "carefully", pos: "adv.", def: "å°å¿ƒåœ°", ex: "He drove  carefully . (ä»–å°å¿ƒåœ°é–‹è»Šã€‚)" },
            { word: "carpet", pos: "noun", def: "åœ°æ¯¯", ex: "There is a red  carpet  in the room. (æˆ¿é–“è£¡æœ‰ä¸€å¡Šç´…åœ°æ¯¯ã€‚)" },
            { word: "carrot", pos: "noun", def: "ç´…è˜¿è””", ex: "Rabbits like to eat  carrots . (å…”å­å–œæ­¡åƒç´…è˜¿è””ã€‚)" },
            { word: "carry", pos: "verb", def: "æ”œå¸¶", ex: "Please  carry  my bag. (è«‹å¹«æˆ‘æ‹¿åŒ…åŒ…ã€‚)" },
            { word: "case", pos: "noun", def: "æƒ…æ³ã€æ¡ˆä»¶", ex: "It is a difficult  case . (é€™æ˜¯å€‹å›°é›£çš„æ¡ˆä»¶/æƒ…æ³ã€‚)" },
            { word: "cash", pos: "noun", def: "ç¾é‡‘", ex: "I paid in  cash . (æˆ‘ä»˜ç¾é‡‘ã€‚)" },
            { word: "cast", pos: "verb", def: "æŠ•å°„ã€é¸è§’", ex: "The sun  casts  a shadow. (å¤ªé™½æŠ•å°„å‡ºå½±å­ã€‚)" },
            { word: "cat", pos: "noun", def: "è²“", ex: "My  cat  is sleeping. (æˆ‘çš„è²“æ­£åœ¨ç¡è¦ºã€‚)" },
            { word: "catch", pos: "verb", def: "æ•æ‰ã€è¶•ä¸Š", ex: "I need to  catch  the bus. (æˆ‘éœ€è¦è¶•ä¸Šå…¬è»Šã€‚)" },
            { word: "cause", pos: "noun/verb", def: "åŸå› ï¼›å¼•èµ·", ex: "What was the  cause  of the accident? (æ„å¤–çš„åŸå› æ˜¯ä»€éº¼ï¼Ÿ)" },
            { word: "celebrate", pos: "verb", def: "æ…¶ç¥", ex: "Let's  celebrate  your birthday. (æˆ‘å€‘ä¾†æ…¶ç¥ä½ çš„ç”Ÿæ—¥å§ã€‚)" },
            { word: "cell", pos: "noun", def: "ç´°èƒ", ex: "The human body has billions of  cells . (äººé«”æœ‰æ•¸åå„„å€‹ç´°èƒã€‚)" },
            { word: "center", pos: "noun", def: "ä¸­å¿ƒ", ex: "The store is in the city  center . (å•†åº—åœ¨å¸‚ä¸­å¿ƒã€‚)" },
            { word: "centimeter", pos: "noun", def: "å…¬åˆ†", ex: "The ruler is 30  centimeters  long. (é€™æŠŠå°ºé•· 30 å…¬åˆ†ã€‚)" },
            { word: "central", pos: "adj.", def: "ä¸­å¤®çš„", ex: "Taiwan is in  central  Asia. (å°ç£ä½æ–¼äºæ´²ä¸­éƒ¨ã€‚)" },
            { word: "century", pos: "noun", def: "ä¸–ç´€", ex: "The 21st  century  started in 2001. (21 ä¸–ç´€å§‹æ–¼ 2001 å¹´ã€‚)" },
            { word: "cereal", pos: "noun", def: "éº¥ç‰‡", ex: "I eat  cereal  for breakfast. (æˆ‘æ—©é¤åƒéº¥ç‰‡ã€‚)" },
            { word: "certain", pos: "adj.", def: "ç¢ºå®šçš„", ex: "Are you  certain  about this? (ä½ ç¢ºå®šé€™ä»¶äº‹å—ï¼Ÿ)" },
            { word: "certainly", pos: "adv.", def: "ç•¶ç„¶åœ°", ex: "Certainly , I can help you. (ç•¶ç„¶ï¼Œæˆ‘å¯ä»¥å¹«ä½ ã€‚)" },
            { word: "chair", pos: "noun", def: "æ¤…å­", ex: "Sit down on the  chair . (ååœ¨æ¤…å­ä¸Šã€‚)" },
            { word: "chalk", pos: "noun", def: "ç²‰ç­†", ex: "The teacher wrote with  chalk . (è€å¸«ç”¨ç²‰ç­†å¯«å­—ã€‚)" },
            { word: "challenge", pos: "noun", def: "æŒ‘æˆ°", ex: "This task is a big  challenge . (é€™é …ä»»å‹™æ˜¯ä¸€å€‹å¤§æŒ‘æˆ°ã€‚)" },
            { word: "chance", pos: "noun", def: "æ©Ÿæœƒ", ex: "I have a  chance  to win. (æˆ‘æœ‰æ©Ÿæœƒè´ã€‚)" },
            { word: "change", pos: "verb/noun", def: "æ”¹è®Šï¼›é›¶éŒ¢", ex: "I need to  change  my clothes. (æˆ‘éœ€è¦æ›è¡£æœã€‚)" },
            { word: "channel", pos: "noun", def: "é »é“", ex: "What  channel  is the game on? (æ¯”è³½åœ¨å“ªå€‹é »é“æ’­å‡ºï¼Ÿ)" },
            { word: "chapter", pos: "noun", def: "ç« ç¯€", ex: "Read the first  chapter  of the book. (è®€é€™æœ¬æ›¸çš„ç¬¬ä¸€ç« ã€‚)" },
            { word: "character", pos: "noun", def: "è§’è‰²ã€å€‹æ€§", ex: "She has a good  character . (å¥¹æœ‰å¾ˆå¥½çš„å€‹æ€§ã€‚)" },
            { word: "charge", pos: "verb/noun", def: "å……é›»ï¼›è²»ç”¨", ex: "Can I  charge  my phone here? (æˆ‘å¯ä»¥åœ¨é€™è£¡å……é›»å—ï¼Ÿ)" },
            { word: "chart", pos: "noun", def: "åœ–è¡¨", ex: "The  chart  shows the sales data. (åœ–è¡¨é¡¯ç¤ºäº†éŠ·å”®æ•¸æ“šã€‚)" },
            { word: "cheap", pos: "adj.", def: "ä¾¿å®œçš„", ex: "This shirt is very  cheap . (é€™ä»¶è¥¯è¡«å¾ˆä¾¿å®œã€‚)" },
            { word: "check", pos: "verb/noun", def: "æª¢æŸ¥", ex: "Please  check  your answer. (è«‹æª¢æŸ¥ä½ çš„ç­”æ¡ˆã€‚)" },
            { word: "cheer", pos: "verb", def: "æ­¡å‘¼", ex: "We  cheered  for our team. (æˆ‘å€‘ç‚ºæˆ‘å€‘çš„éšŠä¼æ­¡å‘¼ã€‚)" },
            { word: "cheese", pos: "noun", def: "ä¹³é…ªã€èµ·å¸", ex: "I like to eat bread and  cheese . (æˆ‘å–œæ­¡åƒéºµåŒ…å’Œèµ·å¸ã€‚)" },
            { word: "chef", pos: "noun", def: "å»šå¸«", ex: "He is a famous  chef . (ä»–æ˜¯ä¸€ä½æœ‰åçš„å»šå¸«ã€‚)" },
            { word: "chemical", pos: "adj./noun", def: "åŒ–å­¸çš„ï¼›åŒ–å­¸è£½å“", ex: "Be careful with those  chemicals . (å°å¿ƒé‚£äº›åŒ–å­¸è£½å“ã€‚)" },
            { word: "cherry", pos: "noun", def: "æ«»æ¡ƒ", ex: "I love eating  cherries . (æˆ‘å–œæ­¡åƒæ«»æ¡ƒã€‚)" },
            { word: "chess", pos: "noun", def: "è¥¿æ´‹æ£‹", ex: "Do you know how to play  chess ? (ä½ çŸ¥é“æ€éº¼ä¸‹è¥¿æ´‹æ£‹å—ï¼Ÿ)" },
            { word: "chest", pos: "noun", def: "èƒ¸éƒ¨ã€ç®±å­", ex: "He kept the treasure in a wooden  chest . (ä»–æŠŠå¯¶è—æ”¾åœ¨ä¸€å€‹æœ¨ç®±è£¡ã€‚)" },
            { word: "chicken", pos: "noun", def: "é›è‚‰", ex: "I ate fried  chicken . (æˆ‘åƒäº†ç‚¸é›ã€‚)" },
            { word: "chief", pos: "adj./noun", def: "ä¸»è¦çš„ï¼›é¦–é ˜", ex: "He is the  chief  of the village. (ä»–æ˜¯æ‘èŠçš„é¦–é ˜ã€‚)" },
            { word: "child", pos: "noun", def: "å°å­©", ex: "She has three  children . (å¥¹æœ‰ä¸‰å€‹å°å­©ã€‚)" },
            { word: "childhood", pos: "noun", def: "ç«¥å¹´", ex: "I had a happy  childhood . (æˆ‘æœ‰ä¸€å€‹å¿«æ¨‚çš„ç«¥å¹´ã€‚)" },
            { word: "chip", pos: "noun", def: "è–¯ç‰‡ã€æ™¶ç‰‡", ex: "Do you want some potato  chips ? (ä½ æƒ³åƒäº›æ´‹èŠ‹ç‰‡å—ï¼Ÿ)" },
            { word: "chocolate", pos: "noun", def: "å·§å…‹åŠ›", ex: "I love  chocolate  ice cream. (æˆ‘æ„›åƒå·§å…‹åŠ›å†°æ·‡æ·‹ã€‚)" },
            { word: "choice", pos: "noun", def: "é¸æ“‡", ex: "You have a  choice  to make. (ä½ å¿…é ˆåšå‡ºé¸æ“‡ã€‚)" },
            { word: "choose", pos: "verb", def: "é¸æ“‡", ex: "Please  choose  the right answer. (è«‹é¸æ“‡æ­£ç¢ºç­”æ¡ˆã€‚)" },
            { word: "Christmas", pos: "noun", def: "è–èª•ç¯€", ex: "Merry  Christmas ! (è–èª•å¿«æ¨‚ï¼)" },
            { word: "church", pos: "noun", def: "æ•™å ‚", ex: "We go to  church  every Sunday. (æˆ‘å€‘æ¯é€±æ—¥å»æ•™å ‚ã€‚)" },
            { word: "circle", pos: "noun", def: "åœ“åœˆ", ex: "Draw a large  circle . (ç•«ä¸€å€‹å¤§åœ“åœˆã€‚)" },
            { word: "citizen", pos: "noun", def: "å…¬æ°‘", ex: "He is a Japanese  citizen . (ä»–æ˜¯æ—¥æœ¬å…¬æ°‘ã€‚)" },
            { word: "city", pos: "noun", def: "åŸå¸‚", ex: "Taipei is a big  city . (å°åŒ—æ˜¯ä¸€å€‹å¤§åŸå¸‚ã€‚)" },
            { word: "claim", pos: "verb", def: "è²ç¨±", ex: "He  claimed  that he was innocent. (ä»–è²ç¨±ä»–æ˜¯ç„¡è¾œçš„ã€‚)" },
            { word: "class", pos: "noun", def: "ç­ç´šã€èª²", ex: "What  class  are you in? (ä½ åœ¨å“ªå€‹ç­ç´šï¼Ÿ)" },
            { word: "classical", pos: "adj.", def: "å¤å…¸çš„", ex: "I enjoy  classical  music. (æˆ‘å–œæ­¡å¤å…¸éŸ³æ¨‚ã€‚)" },
            { word: "classroom", pos: "noun", def: "æ•™å®¤", ex: "The students are in the  classroom . (å­¸ç”Ÿå€‘åœ¨æ•™å®¤è£¡ã€‚)" },
            { word: "clean", pos: "adj./verb", def: "ä¹¾æ·¨çš„ï¼›æ‰“æƒ", ex: "Please  clean  your room. (è«‹æ‰“æƒä½ çš„æˆ¿é–“ã€‚)" },
            { word: "clear", pos: "adj.", def: "æ¸…æ™°çš„", ex: "The water is very  clear . (æ°´å¾ˆæ¸…æ¾ˆã€‚)" },
            { word: "clearly", pos: "adv.", def: "æ¸…æ¥šåœ°", ex: "He spoke  clearly . (ä»–èªªè©±å¾ˆæ¸…æ¥šã€‚)" },
            { word: "clerk", pos: "noun", def: "åº—å“¡ã€è·å“¡", ex: "The store  clerk  helped me. (åº—å“¡å¹«åŠ©äº†æˆ‘ã€‚)" },
            { word: "clever", pos: "adj.", def: "è°æ˜çš„", ex: "She is a very  clever  girl. (å¥¹æ˜¯ä¸€å€‹éå¸¸è°æ˜çš„å¥³å­©ã€‚)" },
            { word: "climb", pos: "verb", def: "æ”€çˆ¬", ex: "We like to  climb  mountains. (æˆ‘å€‘å–œæ­¡çˆ¬å±±ã€‚)" },
            { word: "close", pos: "verb/adj.", def: "é—œé–‰ï¼›è¦ªè¿‘çš„", ex: "Please  close  the door. (è«‹é—œé–€ã€‚)" },
            { word: "cloth", pos: "noun", def: "å¸ƒ", ex: "She wiped the table with a wet  cloth . (å¥¹ç”¨æ¿•å¸ƒæ“¦æ¡Œå­ã€‚)" },
            { word: "clothes", pos: "noun", def: "è¡£æœ", ex: "I need to buy new  clothes . (æˆ‘éœ€è¦è²·æ–°è¡£æœã€‚)" },
            { word: "cloud", pos: "noun", def: "é›²", ex: "Look at the white  clouds . (çœ‹é‚£äº›ç™½é›²ã€‚)" },
            { word: "cloudy", pos: "adj.", def: "å¤šé›²çš„", ex: "It is  cloudy  today. (ä»Šå¤©å¤šé›²ã€‚)" },
            { word: "club", pos: "noun", def: "ç¤¾åœ˜", ex: "I joined the basketball  club . (æˆ‘åŠ å…¥äº†ç±ƒçƒç¤¾ã€‚)" },
            { word: "coach", pos: "noun", def: "æ•™ç·´", ex: "Our  coach  is strict. (æˆ‘å€‘çš„æ•™ç·´å¾ˆåš´æ ¼ã€‚)" },
            { word: "coast", pos: "noun", def: "æµ·å²¸", ex: "We drove along the  coast . (æˆ‘å€‘æ²¿è‘—æµ·å²¸é–‹è»Šã€‚)" },
            { word: "coat", pos: "noun", def: "å¤–å¥—", ex: "Wear a warm  coat . (ç©¿ä¸€ä»¶æš–å’Œçš„å¤–å¥—ã€‚)" },
            { word: "coffee", pos: "noun", def: "å’–å•¡", ex: "I drink  coffee  every morning. (æˆ‘æ¯å¤©æ—©ä¸Šéƒ½å–å’–å•¡ã€‚)" },
            { word: "coin", pos: "noun", def: "ç¡¬å¹£", ex: "I found a shiny  coin . (æˆ‘æ‰¾åˆ°ä¸€å€‹é–ƒäº®çš„ç¡¬å¹£ã€‚)" },
            { word: "cold", pos: "adj./noun", def: "å†·çš„ï¼›æ„Ÿå†’", ex: "It is very  cold  outside. (å¤–é¢å¾ˆå†·ã€‚)" },
            { word: "collect", pos: "verb", def: "æ”¶é›†", ex: "I like to  collect  stamps. (æˆ‘å–œæ­¡æ”¶é›†éƒµç¥¨ã€‚)" },
            { word: "college", pos: "noun", def: "å¤§å­¸", ex: "He goes to  college  in Taipei. (ä»–åœ¨å°åŒ—ä¸Šå¤§å­¸ã€‚)" },
            { word: "color", pos: "noun", def: "é¡è‰²", ex: "What is your favorite  color ? (ä½ æœ€å–œæ­¡ä»€éº¼é¡è‰²ï¼Ÿ)" },
            { word: "comb", pos: "noun/verb", def: "æ¢³å­ï¼›æ¢³é ­", ex: "She used a  comb  to fix her hair. (å¥¹ç”¨æ¢³å­æ•´ç†é ­é«®ã€‚)" },
            { word: "come", pos: "verb", def: "ä¾†", ex: "Please  come  in. (è«‹é€²ã€‚)" },
            { word: "comfortable", pos: "adj.", def: "èˆ’é©çš„", ex: "The sofa is very  comfortable . (é€™å¼µæ²™ç™¼å¾ˆèˆ’æœã€‚)" },
            { word: "command", pos: "verb", def: "å‘½ä»¤", ex: "He  commanded  us to be quiet. (ä»–å‘½ä»¤æˆ‘å€‘ä¿æŒå®‰éœã€‚)" },
            { word: "comment", pos: "noun", def: "è©•è«–", ex: "She made a useful  comment . (å¥¹æå‡ºäº†ä¸€å€‹æœ‰ç”¨çš„è©•è«–ã€‚)" },
            { word: "commercial", pos: "adj./noun", def: "å•†æ¥­çš„ï¼›å»£å‘Š", ex: "I hate TV  commercials . (æˆ‘è¨å­é›»è¦–å»£å‘Šã€‚)" },
            { word: "common", pos: "adj.", def: "å¸¸è¦‹çš„ã€å…±åŒçš„", ex: "The disease is very  common . (é€™ç¨®ç–¾ç—…å¾ˆå¸¸è¦‹ã€‚)" },
            { word: "communicate", pos: "verb", def: "æºé€š", ex: "We need to  communicate  better. (æˆ‘å€‘éœ€è¦æ›´å¥½åœ°æºé€šã€‚)" },
            { word: "company", pos: "noun", def: "å…¬å¸", ex: "He works for a big  company . (ä»–åœ¨ä¸€å®¶å¤§å…¬å¸å·¥ä½œã€‚)" }
        ];

        let currentIndex = 0;
        let activeList = []; 
        
        let cardElement, wordEl, posEl, defEl, sentenceEl;

        document.addEventListener('DOMContentLoaded', () => {
            cardElement = document.getElementById('card');
            wordEl = document.getElementById('word');
            posEl = document.getElementById('pos');
            defEl = document.getElementById('def');
            sentenceEl = document.getElementById('sentence');
            
            loadProgress();
        });


        function loadProgress() {
            // æ³¨æ„ï¼šé€™è£¡å°‡ key æ”¹ç‚º masteredWords_Cï¼Œç¢ºä¿ C å­—æ¯é€²åº¦ç¨ç«‹
            const mastered = JSON.parse(localStorage.getItem('masteredWords_C')) || []; 
            activeList = vocabData.filter(item => !mastered.includes(item.word));
            
            if (activeList.length === 0) {
                showEmptyState();
            } else {
                document.getElementById('card-container').style.display = 'block';
                document.getElementById('controls').style.display = 'flex';
                document.getElementById('empty-state').style.display = 'none';
                document.querySelector('.progress').style.display = 'block';
                renderCard();
            }
            updateCount();
        }

        
        function renderCard() {
            if (activeList.length === 0) return;
            
            if (currentIndex >= activeList.length) currentIndex = 0;
            if (currentIndex < 0) currentIndex = activeList.length - 1;

            const item = activeList[currentIndex];
            wordEl.textContent = item.word;
            posEl.textContent = item.pos;
            defEl.textContent = item.def;
            sentenceEl.innerHTML = item.ex.replace(/\n/g, "<br>");
            
            cardElement.classList.remove('is-flipped');
        }

        function flipCard() {
            speechSynthesis.cancel();
            if (cardElement) {
               cardElement.classList.toggle('is-flipped');
            }
        }

        function playAudio(event) {
            event.stopPropagation();

            if (activeList.length === 0) return;

            const word = activeList[currentIndex].word;
            
            speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = 'en-US'; 
            utterance.rate = 0.8; 

            speechSynthesis.speak(utterance);
        }

        function nextCard() {
            currentIndex++;
            renderCard();
            updateCount();
        }

        function prevCard() {
            currentIndex--;
            renderCard();
            updateCount();
        }

        function markMastered() {
            if (activeList.length === 0) return;
            
            const currentWord = activeList[currentIndex].word;
            
            let mastered = JSON.parse(localStorage.getItem('masteredWords_C')) || [];
            if (!mastered.includes(currentWord)) {
                mastered.push(currentWord);
                localStorage.setItem('masteredWords_C', JSON.stringify(mastered));
            }

            activeList.splice(currentIndex, 1);
            
            if (activeList.length === 0) {
                showEmptyState();
            } else {
                renderCard();
            }
            updateCount();
        }

        function markLearning() {
            nextCard();
        }

        function showEmptyState() {
            document.getElementById('card-container').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('empty-state').style.display = 'block';
            document.querySelector('.progress').style.display = 'none';
        }

        function resetProgress() {
            localStorage.removeItem('masteredWords_C');
            location.reload(); 
        }

        function confirmReset() {
            if (confirm("ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰ç´€éŒ„ï¼Œé‡æ–°ç·´ç¿’æ‰€æœ‰å–®å­—å—ï¼Ÿ")) {
                resetProgress();
            }
        }

        function updateCount() {
            document.getElementById('current-index').textContent = activeList.length > 0 ? currentIndex + 1 : 0;
            // ã€é‡è¦ä¿®æ­£ã€‘é€™è£¡æ”¹ç‚ºé¡¯ç¤º activeList çš„é•·åº¦
            document.getElementById('total-count').textContent = activeList.length; 
        }
        
    </script>
</body>
</html>