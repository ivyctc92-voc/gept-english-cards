
<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¤šå·´èƒºè‹±èªå–®å­—å¡ - å­—æ¯A</title>
    <style>
        :root {
            /* å¤šå·´èƒºè‰²ç¥¨ Dopamine Palette */
            --bg-color: #FFFBEB; /* æŸ”å’Œé»ƒåº• */
            --card-front: #FFDE59; /* äº®é»ƒ */
            --card-back: #7ED957; /* é®®ç¶  */
            --text-primary: #333;
            --btn-master: #FF5757; /* çŠç‘šç´… */
            --btn-learn: #5CE1E6; /* äº®é’ */
            --btn-arrow: #CB6CE6; /* ç´«è‰² */
            --btn-reset: #FF9F1C; /* é®®æ©˜è‰² */
        }

        body {
            font-family: "Helvetica Neue", Arial, sans-serif;
            background-color: var(--bg-color);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            overflow: hidden;
            position: relative;
        }

        /* å³ä¸Šè§’é‡ç½®æŒ‰éˆ• */
        .reset-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--btn-reset);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 15px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 0 rgba(0,0,0,0.1);
            transition: transform 0.1s;
            z-index: 100;
        }

        .reset-btn:active {
            transform: translateY(2px);
            box-shadow: none;
        }

        /* å¡ç‰‡å®¹å™¨èˆ‡ç¿»è½‰æ•ˆæœ */
        .card-container {
            width: 90%;
            max-width: 400px;
            height: 500px;
            perspective: 1000px;
            margin-bottom: 20px;
            cursor: pointer;
        }

        .card {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
            border-radius: 30px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }

        .card.is-flipped {
            transform: rotateY(180deg);
        }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            border-radius: 30px;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            border: 5px solid #fff;
        }

        /* æ­£é¢è¨­è¨ˆ */
        .card-front {
            background-color: var(--card-front);
            color: var(--text-primary);
        }

        /* å–‡å­åœ–ç¤ºæ¨£å¼ */
        .speaker-icon {
            position: absolute;
            top: 20px;
            right: 20px;
            font-size: 3rem; /* åœ–ç¤ºå¤§å° */
            cursor: pointer;
            background: rgba(255,255,255,0.4);
            width: 60px;
            height: 60px;
            line-height: 60px;
            border-radius: 50%;
            transition: transform 0.2s, background 0.2s;
            z-index: 50; /* ç¢ºä¿å®ƒåœ¨æœ€ä¸Šå±¤ */
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .speaker-icon:hover {
            transform: scale(1.1);
            background: rgba(255,255,255,0.8);
        }

        .speaker-icon:active {
            transform: scale(0.95);
        }

        .english-word {
            font-size: 3.5rem;
            font-weight: 800;
            margin-bottom: 10px;
            color: #FF6B6B;
            text-shadow: 2px 2px 0px #FFF;
        }

        .pos-tag {
            background: #FFF;
            padding: 8px 20px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: bold;
            color: #555;
            box-shadow: 2px 2px 0 rgba(0,0,0,0.1);
        }

        /* èƒŒé¢è¨­è¨ˆ */
        .card-back {
            background-color: var(--card-back);
            color: var(--text-primary);
            transform: rotateY(180deg);
        }

        .chinese-def {
            font-size: 2.5rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: #FFF;
            text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
        }

        .example-sentence {
            font-size: 1.4rem;
            line-height: 1.6;
            background: rgba(255,255,255,0.3);
            padding: 15px;
            border-radius: 15px;
            white-space: pre-wrap; /* è®“ä¾‹å¥ä¸­çš„æ›è¡Œç¬¦è™Ÿç”Ÿæ•ˆ */
        }

        /* æ§åˆ¶å€ */
        .controls {
            display: flex;
            gap: 20px;
            align-items: center;
            width: 90%;
            max-width: 400px;
            justify-content: space-between;
        }

        .arrow-btn {
            background: var(--btn-arrow);
            border: none;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            transition: transform 0.1s;
        }

        .action-btn {
            border: none;
            padding: 15px 25px;
            border-radius: 20px;
            font-size: 1.2rem;
            font-weight: bold;
            color: white;
            cursor: pointer;
            box-shadow: 0 5px 0 rgba(0,0,0,0.1);
            flex: 1;
        }

        .btn-master { background-color: var(--btn-master); }
        .btn-learn { background-color: var(--btn-learn); color: #333; }
        
        button:active {
            transform: translateY(4px);
            box-shadow: none;
        }

        .progress {
            margin-top: 20px;
            font-size: 1rem;
            color: #888;
        }
        
        .empty-state {
            display: none;
            text-align: center;
            font-size: 1.5rem;
            color: #333;
        }

    </style>
</head>
<body>

    <button class="reset-btn" onclick="confirmReset()">ğŸ”„ å…¨éƒ¨é‡ä¾†</button>

    <div class="progress">é€²åº¦ï¼š<span id="current-index">0</span> / <span id="total-count">85</span></div>

    <div class="card-container" id="card-container" onclick="flipCard()">
        <div class="card" id="card">
            <div class="card-face card-front">
                <div class="speaker-icon" onclick="playAudio(event)">ğŸ”Š</div>
                
                <div class="english-word" id="word"></div>
                <div class="pos-tag" id="pos"></div>
                <div style="margin-top:20px; font-size: 0.9rem; opacity: 0.7;">(é»æ“Šå¡ç‰‡ç¿»é¢)</div>
            </div>
            <div class="card-face card-back">
                <div class="chinese-def" id="def"></div>
                <div class="example-sentence" id="sentence"></div>
            </div>
        </div>
    </div>
    
    <div class="empty-state" id="empty-state">
        <h2>ğŸ‰ å¤ªæ£’äº†ï¼</h2>
        <p>æ‰€æœ‰å–®å­—éƒ½å·²ç²¾ç†Ÿï¼</p>
        <button class="action-btn btn-learn" onclick="resetProgress()">é‡æ–°é–‹å§‹</button>
    </div>

    <div class="controls" id="controls">
        <button class="arrow-btn" onclick="prevCard()">&#8592;</button>
        <button class="action-btn btn-master" onclick="markMastered()">ğŸ’– å·²ç²¾ç†Ÿ</button>
        <button class="action-btn btn-learn" onclick="markLearning()">ğŸ’ª å­¸ç¿’ä¸­</button>
        <button class="arrow-btn" onclick="nextCard()">&#8594;</button>
    </div>

    <script>
        // è³‡æ–™ä¾†æºï¼šå¾æ‚¨çš„ã€Œå­—æ¯a.docxã€æª”æ¡ˆä¸­æ“·å– 85 å€‹å–®å­—
        const vocabData = [
            { word: "ability", pos: "noun", def: "èƒ½åŠ›ã€æ‰èƒ½", ex: "She has the ability to learn fast. (å¥¹æœ‰å­¸å¾—å¾ˆå¿«çš„èƒ½åŠ›ã€‚)" },
            { word: "able", pos: "adj.", def: "èƒ½å¤ çš„", ex: "I am able to swim. (æˆ‘æœƒæ¸¸æ³³ã€‚)" },
            { word: "about", pos: "prep./adv.", def: "é—œæ–¼ã€å¤§ç´„", ex: "What is the story about? (é€™å€‹æ•…äº‹æ˜¯é—œæ–¼ä»€éº¼çš„ï¼Ÿ)" },
            { word: "above", pos: "prep./adv.", def: "åœ¨...ä¸Šé¢", ex: "The bird is flying above the tree. (é³¥åœ¨æ¨¹ä¸Šæ–¹é£›ç¿”ã€‚)" },
            { word: "abroad", pos: "adv.", def: "åœ¨åœ‹å¤–", ex: "He wants to study abroad. (ä»–æƒ³å»åœ‹å¤–ç•™å­¸ã€‚)" },
            { word: "absent", pos: "adj.", def: "ç¼ºå¸­çš„", ex: "He was absent from school yesterday. (ä»–æ˜¨å¤©æ²’å»ä¸Šå­¸ã€‚)" },
            { word: "accept", pos: "verb", def: "æ¥å—ã€åŒæ„", ex: "Please accept my gift. (è«‹æ”¶ä¸‹æˆ‘çš„ç¦®ç‰©ã€‚)" },
            { word: "accident", pos: "noun", def: "æ„å¤–äº‹æ•…", ex: "He had a car accident. (ä»–å‡ºäº†è»Šç¦ã€‚)" },
            { word: "achieve", pos: "verb", def: "é”æˆã€å¯¦ç¾", ex: "You can achieve your goals if you work hard. (å¦‚æœä½ åŠªåŠ›ï¼Œå°±èƒ½é”æˆç›®æ¨™ã€‚)" },
            { word: "across", pos: "prep.", def: "åœ¨å°é¢ã€æ©«è¶Š", ex: "The store is across the street. (å•†åº—åœ¨è¡—é“å°é¢ã€‚)" },
            { word: "act", pos: "noun/verb", def: "è¡Œç‚ºï¼›æ‰®æ¼”", ex: "Don't act like a child. (åˆ¥è¡¨ç¾å¾—åƒå€‹å­©å­ã€‚)" },
            { word: "action", pos: "noun", def: "è¡Œå‹•ã€å‹•ä½œ", ex: "We need to take action now. (æˆ‘å€‘ç¾åœ¨å¿…é ˆæ¡å–è¡Œå‹•ã€‚)" },
            { word: "active", pos: "adj.", def: "æ´»èºçš„ã€ç©æ¥µçš„", ex: "My grandmother is very active. (æˆ‘çš„ç¥–æ¯éå¸¸æ´»èºã€‚)" },
            { word: "activity", pos: "noun", def: "æ´»å‹•", ex: "Reading is a quiet activity. (é–±è®€æ˜¯ä¸€é …å®‰éœçš„æ´»å‹•ã€‚)" },
            { word: "actor", pos: "noun", def: "ç”·æ¼”å“¡", ex: "He is a famous actor. (ä»–æ˜¯ä¸€ä½æœ‰åçš„æ¼”å“¡ã€‚)" },
            { word: "actress", pos: "noun", def: "å¥³æ¼”å“¡", ex: "The actress is very beautiful. (é‚£ä½å¥³æ¼”å“¡å¾ˆæ¼‚äº®ã€‚)" },
            { word: "actually", pos: "adv.", def: "å¯¦éš›ä¸Š", ex: "Actually , I don't know him well. (å¯¦éš›ä¸Šï¼Œæˆ‘ä¸å¤ªèªè­˜ä»–ã€‚)" },
            { word: "add", pos: "verb", def: "å¢åŠ ã€åŠ ä¸Š", ex: "Please add some sugar to the tea. (è«‹åœ¨èŒ¶è£¡åŠ é»ç³–ã€‚)" },
            { word: "addition", pos: "noun", def: "å¢åŠ çš„äººæˆ–ç‰©", ex: "In addition to math, I like English. (é™¤äº†æ•¸å­¸ï¼Œæˆ‘ä¹Ÿå–œæ­¡è‹±æ–‡ã€‚) " },
            { word: "address", pos: "noun", def: "åœ°å€", ex: "What is your email address? (ä½ çš„é›»å­éƒµä»¶åœ°å€æ˜¯ä»€éº¼ï¼Ÿ)" },
            { word: "admire", pos: "verb", def: "æ¬½ä½©ã€æ¬£è³", ex: "I admire his courage. (æˆ‘æ¬½ä½©ä»–çš„å‹‡æ°£ã€‚)" },
            { word: "admit", pos: "verb", def: "æ‰¿èª", ex: "He admitted his mistake. (ä»–æ‰¿èªäº†ä»–çš„éŒ¯èª¤ã€‚)" },
            { word: "adopt", pos: "verb", def: "é ˜é¤Šã€æ¡ç´", ex: "They decided to adopt a dog. (ä»–å€‘æ±ºå®šé ˜é¤Šä¸€éš»ç‹—ã€‚)" },
            { word: "adult", pos: "noun/adj.", def: "æˆå¹´äºº", ex: "This movie is for adults only. (é€™éƒ¨é›»å½±åƒ…é™æˆäººè§€çœ‹ã€‚)" },
            { word: "advance", pos: "verb/noun", def: "å‰é€²ï¼›é å…ˆ", ex: "Please pay in advance . (è«‹é å…ˆä»˜æ¬¾ã€‚)" },
            { word: "advantage", pos: "noun", def: "å„ªé»ã€å„ªå‹¢", ex: "Living in the city has many advantages . (ä½åœ¨åŸå¸‚æœ‰å¾ˆå¤šå„ªé»ã€‚)" },
            { word: "adventure", pos: "noun", def: "å†’éšª", ex: "Their trip was a great adventure . (ä»–å€‘çš„æ—…è¡Œæ˜¯ä¸€å ´å‰å¤§çš„å†’éšªã€‚)" },
            { word: "advertisement", pos: "noun", def: "å»£å‘Š", ex: "I saw an advertisement for a new phone. (æˆ‘çœ‹åˆ°ä¸€æ”¯æ–°æ‰‹æ©Ÿçš„å»£å‘Šã€‚)" },
            { word: "advice", pos: "noun", def: "å»ºè­° (åè©)", ex: "Can you give me some advice ? (ä½ èƒ½çµ¦æˆ‘ä¸€äº›å»ºè­°å—ï¼Ÿ)" },
            { word: "advise", pos: "verb", def: "å»ºè­° (å‹•è©)", ex: "The doctor advised him to rest. (é†«ç”Ÿå»ºè­°ä»–ä¼‘æ¯ã€‚)" },
            { word: "affair", pos: "noun", def: "äº‹å‹™", ex: "That is my personal affair . (é‚£æ˜¯æˆ‘çš„ç§äº‹ã€‚)" },
            { word: "affect", pos: "verb", def: "å½±éŸ¿", ex: "The weather can affect your mood. (å¤©æ°£æœƒå½±éŸ¿ä½ çš„å¿ƒæƒ…ã€‚)" },
            { word: "afraid", pos: "adj.", def: "å®³æ€•çš„", ex: "Don't be afraid of the dark. (ä¸è¦æ€•é»‘ã€‚)" },
            { word: "after", pos: "prep.", def: "åœ¨...ä¹‹å¾Œ", ex: "Let's meet after school. (æˆ‘å€‘æ”¾å­¸å¾Œè¦‹ã€‚)" },
            { word: "afternoon", pos: "noun", def: "ä¸‹åˆ", ex: "Good afternoon ! (åˆå®‰ï¼)" },
            { word: "again", pos: "adv.", def: "å†ä¸€æ¬¡", ex: "Please say that again . (è«‹å†èªªä¸€æ¬¡ã€‚)" },
            { word: "against", pos: "prep.", def: "åå°ã€å€šé ", ex: "He leaned against the wall. (ä»–é åœ¨ç‰†ä¸Šã€‚)" },
            { word: "age", pos: "noun", def: "å¹´é½¡", ex: "What is your age ? (ä½ å¹¾æ­²ï¼Ÿ)" },
            { word: "agree", pos: "verb", def: "åŒæ„", ex: "I agree with you. (æˆ‘åŒæ„ä½ ã€‚)" },
            { word: "ahead", pos: "adv.", def: "åœ¨å‰é¢", ex: "Go ahead . (å‰é€² / è«‹ä¾¿ã€‚)" },
            { word: "aid", pos: "noun/verb", def: "å¹«åŠ©", ex: "They gave aid to the poor people. (ä»–å€‘æ´åŠ©çª®äººã€‚)" },
            { word: "aim", pos: "verb/noun", def: "ç„æº–ã€ç›®æ¨™", ex: "My aim is to be a doctor. (æˆ‘çš„ç›®æ¨™æ˜¯ç•¶é†«ç”Ÿã€‚)" },
            { word: "air", pos: "noun", def: "ç©ºæ°£", ex: "The fresh air smells good. (æ–°é®®ç©ºæ°£èèµ·ä¾†å¾ˆæ£’ã€‚)" },
            { word: "air conditioner", pos: "noun", def: "å†·æ°£æ©Ÿ", ex: "Turn on the air conditioner , please. (è«‹æ‰“é–‹å†·æ°£ã€‚) " },
            { word: "airline", pos: "noun", def: "èˆªç©ºå…¬å¸", ex: "Which airline are you flying with? (ä½ æ­å“ªå®¶èˆªç©ºå…¬å¸çš„é£›æ©Ÿï¼Ÿ)" },
            { word: "airplane", pos: "noun", def: "é£›æ©Ÿ", ex: "The airplane is taking off. (é£›æ©Ÿæ­£åœ¨èµ·é£›ã€‚)" },
            { word: "airport", pos: "noun", def: "æ©Ÿå ´", ex: "We arrived at the airport early. (æˆ‘å€‘å¾ˆæ—©åˆ°é”æ©Ÿå ´ã€‚)" },
            { word: "alarm", pos: "noun", def: "é¬§é˜ã€è­¦å ±", ex: "My alarm rang at 6:00 AM. (æˆ‘çš„é¬§é˜æ—©ä¸Šå…­é»éŸ¿äº†ã€‚)" },
            { word: "album", pos: "noun", def: "å°ˆè¼¯ã€ç›¸ç°¿", ex: "This is my favorite photo album . (é€™æ˜¯æˆ‘æœ€å–œæ­¡çš„ç›¸ç°¿ã€‚)" },
            { word: "alike", pos: "adj./adv.", def: "ç›¸ä¼¼çš„", ex: "The twins look alike . (é€™å°é›™èƒèƒé•·å¾—å¾ˆåƒã€‚)" },
            { word: "alive", pos: "adj.", def: "æ´»è‘—çš„", ex: "The fish is still alive . (é€™æ¢é­šé‚„æ´»è‘—ã€‚)" },
            { word: "all", pos: "adj./pron.", def: "å…¨éƒ¨", ex: "All of my friends are here. (æˆ‘æ‰€æœ‰çš„æœ‹å‹éƒ½åœ¨é€™ã€‚)" },
            { word: "allow", pos: "verb", def: "å…è¨±", ex: "My mom doesn't allow me to stay up late. (æˆ‘ä¸åª½ä¸å‡†æˆ‘ç†¬å¤œã€‚)" },
            { word: "almost", pos: "adv.", def: "å¹¾ä¹", ex: "It is almost time to go. (å·®ä¸å¤šè©²èµ°äº†ã€‚)" },
            { word: "alone", pos: "adj./adv.", def: "å–®ç¨çš„", ex: "She lives alone . (å¥¹ç¨è‡ªå±…ä½ã€‚)" },
            { word: "along", pos: "prep.", def: "æ²¿è‘—", ex: "We walked along the river. (æˆ‘å€‘æ²¿è‘—æ²³é‚Šæ•£æ­¥ã€‚)" },
            { word: "aloud", pos: "adv.", def: "å¤§è²åœ°", ex: "Read the story aloud . (å¤§è²æœ—è®€é€™å€‹æ•…äº‹ã€‚)" },
            { word: "alphabet", pos: "noun", def: "å­—æ¯è¡¨", ex: "Can you say the alphabet ? (ä½ æœƒå”¸å­—æ¯è¡¨å—ï¼Ÿ)" },
            { word: "already", pos: "adv.", def: "å·²ç¶“", ex: "I have already finished my homework. (æˆ‘å·²ç¶“åšå®Œä½œæ¥­äº†ã€‚)" },
            { word: "also", pos: "adv.", def: "ä¹Ÿ", ex: "I like apples, and I also like bananas. (æˆ‘å–œæ­¡è˜‹æœï¼Œæˆ‘ä¹Ÿå–œæ­¡é¦™è•‰ã€‚) " },
            { word: "although", pos: "conj.", def: "é›–ç„¶", ex: "Although it rained, we played soccer. (é›–ç„¶ä¸‹é›¨ï¼Œæˆ‘å€‘é‚„æ˜¯è¸¢äº†è¶³çƒã€‚) " },
            { word: "always", pos: "adv.", def: "ç¸½æ˜¯", ex: "He is always late. (ä»–ç¸½æ˜¯é²åˆ°ã€‚)" },
            { word: "ambulance", pos: "noun", def: "æ•‘è­·è»Š", ex: "They called an ambulance . (ä»–å€‘å«äº†æ•‘è­·è»Šã€‚)" },
            { word: "America", pos: "noun", def: "ç¾åœ‹", ex: "She lives in America . (å¥¹ä½åœ¨ç¾åœ‹ã€‚)" },
            { word: "American", pos: "adj./noun", def: "ç¾åœ‹çš„ã€ç¾åœ‹äºº", ex: "He is an American . (ä»–æ˜¯ç¾åœ‹äººã€‚)" },
            { word: "among", pos: "prep.", def: "åœ¨...ä¹‹ä¸­", ex: "The house is hidden among the trees. (é‚£é–“æˆ¿å­éš±è—åœ¨æ¨¹æ—ä¸­ã€‚)" },
            { word: "amount", pos: "noun", def: "æ•¸é‡", ex: "A large amount of money was stolen. (ä¸€å¤§ç­†éŒ¢è¢«å·äº†ã€‚)" },
            { word: "ancient", pos: "adj.", def: "å¤ä»£çš„", ex: "This is an ancient building. (é€™æ˜¯ä¸€æ£Ÿå¤è€çš„å»ºç¯‰ã€‚)" },
            { word: "and", pos: "conj.", def: "å’Œ", ex: "I like bread and butter. (æˆ‘å–œæ­¡éºµåŒ…å’Œå¥¶æ²¹ã€‚)" },
            { word: "angel", pos: "noun", def: "å¤©ä½¿", ex: "You are such an angel . (ä½ çœŸæ˜¯å€‹å¤©ä½¿/å¤§å¥½äººã€‚)" },
            { word: "anger", pos: "noun", def: "æ†¤æ€’", ex: "He could not hide his anger . (ä»–ç„¡æ³•æ©é£¾ä»–çš„æ†¤æ€’ã€‚)" },
            { word: "angry", pos: "adj.", def: "ç”Ÿæ°£çš„", ex: "Why are you angry ? (ä½ ç‚ºä»€éº¼ç”Ÿæ°£ï¼Ÿ)" },
            { word: "animal", pos: "noun", def: "å‹•ç‰©", ex: "The dog is a loyal animal . (ç‹—æ˜¯å¿ èª çš„å‹•ç‰©ã€‚)" },
            { word: "ankle", pos: "noun", def: "è…³è¸", ex: "I twisted my ankle . (æˆ‘æ‰­å‚·äº†è…³è¸ã€‚)" },
            { word: "another", pos: "adj./pron.", def: "å¦ä¸€å€‹", ex: "Would you like another cup of tea? (ä½ è¦å†ä¾†ä¸€æ¯èŒ¶å—ï¼Ÿ)" },
            { word: "answer", pos: "noun/verb", def: "ç­”æ¡ˆã€å›ç­”", ex: "Please answer the question. (è«‹å›ç­”é€™å€‹å•é¡Œã€‚)" },
            { word: "ant", pos: "noun", def: "èèŸ»", ex: "Look at the tiny ant . (çœ‹é‚£éš»å°èèŸ»ã€‚)" },
            { word: "any", pos: "adj./pron.", def: "ä»»ä½•", ex: "Do you have any money? (ä½ æœ‰éŒ¢å—ï¼Ÿ)" },
            { word: "anybody", pos: "pron.", def: "ä»»ä½•äºº", ex: "Is anybody home? (æœ‰äººåœ¨å®¶å—ï¼Ÿ)" },
            { word: "anymore", pos: "adv.", def: "å†ä¹Ÿä¸", ex: "I don't live here anymore . (æˆ‘ä¸é€™è£¡ä½äº†ã€‚)" },
            { word: "anything", pos: "pron.", def: "ä»»ä½•äº‹ç‰©", ex: "Do you want anything to drink? (ä½ æƒ³å–é»ä»€éº¼å—ï¼Ÿ)" },
            { word: "anyway", pos: "adv.", def: "ç„¡è«–å¦‚ä½•", ex: "Thanks for your help anyway . (ç„¡è«–å¦‚ä½•ï¼Œè¬è¬ä½ çš„å¹«å¿™ã€‚)" },
            { word: "anywhere", pos: "adv.", def: "ä»»ä½•åœ°æ–¹", ex: "You can sit anywhere . (ä½ å¯ä»¥åä»»ä½•åœ°æ–¹ã€‚)" },
            { word: "apartment", pos: "noun", def: "å…¬å¯“", ex: "They live in a small apartment . (ä»–å€‘ä½åœ¨ä¸€é–“å°å…¬å¯“è£¡ã€‚)" },
            { word: "apologize", pos: "verb", def: "é“æ­‰", ex: "You should apologize to her. (ä½ æ‡‰è©²å‘å¥¹é“æ­‰ã€‚)" },
            { word: "appear", pos: "verb", def: "å‡ºç¾ã€ä¼¼ä¹", ex: "He suddenly appeared at the door. (ä»–çªç„¶å‡ºç¾åœ¨é–€å£ã€‚)" },
            { word: "apple", pos: "noun", def: "è˜‹æœ", ex: "An apple a day keeps the doctor away. (ä¸€å¤©ä¸€è˜‹æœï¼Œé†«ç”Ÿé é›¢æˆ‘ã€‚)" },
            { word: "apply", pos: "verb", def: "ç”³è«‹", ex: "I will apply for the job. (æˆ‘æœƒç”³è«‹é€™ä»½å·¥ä½œã€‚)" },
            { word: "appreciate", pos: "verb", def: "æ„Ÿæ¿€ã€æ¬£è³", ex: "I appreciate your help. (æˆ‘å¾ˆæ„Ÿæ¿€ä½ çš„å¹«å¿™ã€‚)" },
            { word: "April", pos: "noun", def: "å››æœˆ", ex: "My birthday is in April . (æˆ‘çš„ç”Ÿæ—¥åœ¨å››æœˆã€‚)" },
            { word: "area", pos: "noun", def: "å€åŸŸ", ex: "This is a no-smoking area . (é€™æ˜¯ç¦è¸å€ã€‚)" },
            { word: "argue", pos: "verb", def: "çˆ­åµ", ex: "Don't argue with your parents. (ä¸è¦è·Ÿçˆ¶æ¯é ‚å˜´ã€‚)" },
            { word: "arm", pos: "noun", def: "æ‰‹è‡‚", ex: "He broke his arm . (ä»–æ‘”æ–·äº†æ‰‹è‡‚ã€‚)" },
            { word: "armchair", pos: "noun", def: "æ‰¶æ‰‹æ¤…", ex: "Grandpa is sitting in his armchair . (çˆºçˆºæ­£ååœ¨æ‰¶æ‰‹æ¤…ä¸Šã€‚)" },
            { word: "army", pos: "noun", def: "è»éšŠ", ex: "He joined the army . (ä»–å¾è»äº†ã€‚)" },
            { word: "around", pos: "prep./adv.", def: "åœ¨å‘¨åœ", ex: "We walked around the park. (æˆ‘å€‘ç¹è‘—å…¬åœ’èµ°ã€‚)" },
            { word: "arrange", pos: "verb", def: "å®‰æ’", ex: "I will arrange a meeting. (æˆ‘æœƒå®‰æ’ä¸€å ´æœƒè­°ã€‚)" },
            { word: "arrest", pos: "verb", def: "é€®æ•", ex: "The police arrested the thief. (è­¦å¯Ÿé€®æ•äº†å°å·ã€‚)" },
            { word: "arrive", pos: "verb", def: "åˆ°é”", ex: "We will arrive at 5 PM. (æˆ‘å€‘æœƒåœ¨ä¸‹åˆäº”é»åˆ°é”ã€‚)" },
            { word: "art", pos: "noun", def: "è—è¡“", ex: "I love art class. (æˆ‘å–œæ­¡ç¾è¡“èª²ã€‚)" },
            { word: "article", pos: "noun", def: "æ–‡ç« ", ex: "I read an interesting article . (æˆ‘è®€äº†ä¸€ç¯‡æœ‰è¶£çš„æ–‡ç« ã€‚)" },
            { word: "artist", pos: "noun", def: "è—è¡“å®¶", ex: "She wants to be an artist . (å¥¹æƒ³æˆç‚ºä¸€åè—è¡“å®¶ã€‚)" },
            { word: "as", pos: "prep./conj.", def: "ç•¶ä½œã€å¦‚åŒ", ex: "He works as a teacher. (ä»–æ“”ä»»è€å¸«çš„å·¥ä½œã€‚)" },
            { word: "Asia", pos: "noun", def: "äºæ´²", ex: "Taiwan is in Asia . (å°ç£åœ¨äºæ´²ã€‚)" },
            { word: "Asian", pos: "adj./noun", def: "äºæ´²çš„", ex: "I like Asian food. (æˆ‘å–œæ­¡äºæ´²é£Ÿç‰©ã€‚)" },
            { word: "ask", pos: "verb", def: "è©¢å•", ex: "May I ask a question? (æˆ‘å¯ä»¥å•å€‹å•é¡Œå—ï¼Ÿ)" },
            { word: "asleep", pos: "adj.", def: "ç¡è‘—çš„", ex: "The baby is fast asleep . (å¬°å…’ç¡å¾—å¾ˆç†Ÿã€‚)" },
            { word: "assistant", pos: "noun", def: "åŠ©ç†", ex: "She is my personal assistant . (å¥¹æ˜¯æˆ‘çš„ç§äººåŠ©ç†ã€‚)" },
            { word: "assume", pos: "verb", def: "å‡å®šã€ä»¥ç‚º", ex: "I assume you are ready. (æˆ‘å‡è¨­ä½ å·²ç¶“æº–å‚™å¥½äº†ã€‚)" },
            { word: "at", pos: "prep.", def: "åœ¨...", ex: "Look at me. (çœ‹è‘—æˆ‘ã€‚)" },
            { word: "attack", pos: "verb/noun", def: "æ”»æ“Š", ex: "The dog might attack you. (é‚£éš»ç‹—å¯èƒ½æœƒæ”»æ“Šä½ ã€‚)" },
            { word: "attend", pos: "verb", def: "åƒåŠ ã€å‡ºå¸­", ex: "Did you attend the meeting? (ä½ æœ‰åƒåŠ æœƒè­°å—ï¼Ÿ)" },
            { word: "attention", pos: "noun", def: "æ³¨æ„", ex: "Please pay attention . (è«‹æ³¨æ„ã€‚)" },
            { word: "audience", pos: "noun", def: "è§€çœ¾", ex: "The audience clapped loudly. (è§€çœ¾å¤§è²é¼“æŒã€‚)" },
            { word: "August", pos: "noun", def: "å…«æœˆ", ex: "It is very hot in August . (å…«æœˆéå¸¸ç†±ã€‚)" },
            { word: "aunt", pos: "noun", def: "é˜¿å§¨ã€å§‘å§‘", ex: "My aunt lives in Taipei. (æˆ‘çš„é˜¿å§¨ä½åœ¨å°åŒ—ã€‚)" },
            { word: "autumn", pos: "noun", def: "ç§‹å¤©", ex: "Leaves fall in autumn . (è‘‰å­åœ¨ç§‹å¤©è½ä¸‹ã€‚)" },
            { word: "available", pos: "adj.", def: "å¯ç²å¾—çš„ã€æœ‰ç©ºçš„", ex: "Is this seat available ? (é€™åº§ä½æœ‰äººåå—ï¼Ÿ)" },
            { word: "avoid", pos: "verb", def: "é¿å…", ex: "We should avoid making noise. (æˆ‘å€‘æ‡‰è©²é¿å…è£½é€ å™ªéŸ³ã€‚)" },
            { word: "awake", pos: "adj.", def: "æ¸…é†’çš„", ex: "Are you awake ? (ä½ é†’è‘—å—ï¼Ÿ)" },
            { word: "away", pos: "adv.", def: "é›¢é–‹", ex: "Go away ! (èµ°é–‹ï¼) " }
        ];

        let currentIndex = 0;
        let activeList = []; 
        
        // å®£å‘Šé€™äº›å…ƒç´ è®Šæ•¸ï¼Œä½†æš«æ™‚ä¸è³¦å€¼
        let cardElement, wordEl, posEl, defEl, sentenceEl;

        // ã€ä¿®æ­£æ ¸å¿ƒã€‘ä½¿ç”¨ DOMContentLoaded äº‹ä»¶ç¢ºä¿ HTML çµæ§‹å·²å®Œå…¨è¼‰å…¥
        document.addEventListener('DOMContentLoaded', () => {
            // åœ¨é€™è£¡è³¦å€¼ï¼Œç¢ºä¿å®ƒå€‘ä¸å†æ˜¯ null
            cardElement = document.getElementById('card');
            wordEl = document.getElementById('word');
            posEl = document.getElementById('pos');
            defEl = document.getElementById('def');
            sentenceEl = document.getElementById('sentence');
            
            // è¼‰å…¥é€²åº¦ï¼Œé–‹å§‹æ¸²æŸ“å¡ç‰‡
            loadProgress();
        });


        function loadProgress() {
            const mastered = JSON.parse(localStorage.getItem('masteredWords')) || [];
            activeList = vocabData.filter(item => !mastered.includes(item.word));
            
            if (activeList.length === 0) {
                showEmptyState();
            } else {
                document.getElementById('card-container').style.display = 'block';
                document.getElementById('controls').style.display = 'flex';
                document.getElementById('empty-state').style.display = 'none';
                document.querySelector('.progress').style.display = 'block';
                renderCard();
            }
            updateCount();
        }

        
        function renderCard() {
            if (activeList.length === 0) return;
            
            if (currentIndex >= activeList.length) currentIndex = 0;
            if (currentIndex < 0) currentIndex = activeList.length - 1;

            const item = activeList[currentIndex];
            wordEl.textContent = item.word;
            posEl.textContent = item.pos;
            defEl.textContent = item.def;
            sentenceEl.innerHTML = item.ex.replace(/\n/g, "<br>"); 
            
            cardElement.classList.remove('is-flipped');
        }

        function flipCard() {
            // ç¿»å¡å‰å…ˆåœæ­¢ç™¼éŸ³ï¼Œé¿å…æ‰“æ–·ä½¿ç”¨è€…
            speechSynthesis.cancel();
            if (cardElement) { // æ–°å¢æª¢æŸ¥
               cardElement.classList.toggle('is-flipped');
            }
        }

        function playAudio(event) {
            event.stopPropagation();

            if (activeList.length === 0) return;

            const word = activeList[currentIndex].word;
            
            speechSynthesis.cancel();
            
            const utterance = new SpeechSynthesisUtterance(word);
            utterance.lang = 'en-US'; 
            utterance.rate = 0.8; 

            speechSynthesis.speak(utterance);
        }

        function nextCard() {
            currentIndex++;
            renderCard();
            updateCount();
        }

        function prevCard() {
            currentIndex--;
            renderCard();
            updateCount();
        }

        function markMastered() {
            if (activeList.length === 0) return;
            
            const currentWord = activeList[currentIndex].word;
            
            let mastered = JSON.parse(localStorage.getItem('masteredWords')) || [];
            if (!mastered.includes(currentWord)) {
                mastered.push(currentWord);
                localStorage.setItem('masteredWords', JSON.stringify(mastered));
            }

            activeList.splice(currentIndex, 1);
            
            if (activeList.length === 0) {
                showEmptyState();
            } else {
                renderCard();
            }
            updateCount();
        }

        function markLearning() {
            nextCard();
        }

        function showEmptyState() {
            document.getElementById('card-container').style.display = 'none';
            document.getElementById('controls').style.display = 'none';
            document.getElementById('empty-state').style.display = 'block';
            document.querySelector('.progress').style.display = 'none';
        }

        function resetProgress() {
            localStorage.removeItem('masteredWords');
            location.reload(); 
        }

        function confirmReset() {
            if (confirm("ç¢ºå®šè¦æ¸…é™¤æ‰€æœ‰ç´€éŒ„ï¼Œé‡æ–°ç·´ç¿’æ‰€æœ‰å–®å­—å—ï¼Ÿ")) {
                resetProgress();
            }
        }

        function updateCount() {
            document.getElementById('current-index').textContent = activeList.length > 0 ? currentIndex + 1 : 0;
            document.getElementById('total-count').textContent = activeList.length;
        }

    </script>
</body>
</html>