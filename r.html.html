
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GEPT Level R - Â§öÂ∑¥ËÉ∫ÂñÆÂ≠óÂç° V8</title>
    <style>
        :root {
            --bg-color: #F8F9FA;
            --pink: #FF6B95;
            --yellow: #FFD93D;
            --green: #6BCB77;
            --blue: #4D96FF;
            --purple: #A29BFE;
            --orange: #FF9F43;
            --text-color: #2D3436;
        }

        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            box-sizing: border-box;
        }

        /* È†ÇÈÉ®ÈÄ≤Â∫¶Ê¢ù */
        .header {
            width: 100%;
            max-width: 420px;
            margin-bottom: 8px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3px;
            font-size: 14px;
            font-weight: bold;
        }

        .progress-bar {
            height: 10px;
            background-color: #EEE;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green), var(--yellow));
            width: 0%;
            transition: width 0.3s;
        }

        /* Ê†∏ÂøÉÂç°Áâá - 420x320 */
        .flashcard-container {
            width: 420px;
            height: 320px;
            perspective: 1000px;
            margin-bottom: 15px;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .flashcard.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .card-front {
            background-color: white;
            border: 10px solid var(--pink);
        }

        /* Ê≠£Èù¢ÂñÆÂ≠óÂ≠óÈ´î - Áî± JS ÂãïÊÖãÊéßÂà∂Â§ßÂ∞è */
        .word-text {
            font-weight: 900;
            color: var(--pink);
            margin: 0;
            line-height: 1.1;
            white-space: nowrap; 
        }

        .pos-text {
            font-size: 20px;
            color: #AAA;
            font-style: italic;
            margin-top: 8px;
        }

        .card-back {
            background-color: var(--blue);
            color: white;
            transform: rotateY(180deg);
        }

        /* ËÉåÈù¢Ë≥áË®ä‰ΩàÂ±Ä */
        .def-text {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--yellow);
        }

        .sentence-en {
            font-size: 22px;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 10px;
        }

        .sentence-zh {
            font-size: 18px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 12px;
        }

        /* Ë™ûÈü≥ÊåâÈàï */
        .speak-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 42px;
            height: 42px;
            font-size: 22px;
            background: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ‰∏ãÊñπÊìç‰ΩúÈçµ */
        .controls {
            width: 420px;
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .nav-btn, .status-btn {
            height: 50px;
            border: 3px solid var(--text-color);
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 0 var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.1s;
        }

        .nav-btn {
            width: 55px;
            font-size: 22px;
            background-color: var(--purple);
            color: white;
        }

        .nav-btn.next { background-color: var(--yellow); color: var(--text-color); }

        .status-btn { flex: 1; font-size: 16px; }

        .btn-mastered { background-color: var(--green); color: white; }
        .btn-learning { background-color: white; color: var(--text-color); }

        .nav-btn:active, .status-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 var(--text-color);
        }

        #success-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        @media (max-width: 430px) {
            .flashcard-container, .controls, .header { width: 95vw; }
            .flashcard-container { height: 75vw; }
        }
    </style>
</head>
<body>

    <div class="header" id="header-ui">
        <div class="progress-info">
            <span id="progress-text">0 / 78</span>
            <span onclick="resetAll()" style="font-size: 12px; cursor:pointer; color: #888;">‚Ü∫ ÂÖ®ÈÉ®Èáç‰æÜ</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>

    <div id="learning-ui">
        <div class="flashcard-container">
            <div class="flashcard" id="card" onclick="flipCard()">
                <div class="card-face card-front">
                    <button class="speak-btn" onclick="speakWord(event)">üîä</button>
                    <p class="word-text" id="word-display">Word</p>
                    <p class="pos-text" id="pos-display">(pos)</p>
                </div>
                <div class="card-face card-back" id="card-back-face">
                    <button class="speak-btn" onclick="speakSentence(event)" style="border: 1px solid #eee;">üîä</button>
                    <p class="def-text" id="def-display">ÂÆöÁæ©</p>
                    <p class="sentence-en" id="sentence-en-display">Sentence.</p>
                    <p class="sentence-zh" id="sentence-zh-display">ÁøªË≠Ø</p>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="nav-btn" onclick="prevCard()">‚¨Ö</button>
            <button class="status-btn btn-mastered" onclick="markMastered()">Â∑≤Á≤æÁÜü</button>
            <button class="status-btn btn-learning" onclick="nextCard()">Â≠∏Áøí‰∏≠</button>
            <button class="nav-btn next" onclick="nextCard()">‚û°</button>
        </div>
    </div>

    <div id="success-screen">
        <h1 style="color: var(--pink);">Â§™Ê£í‰∫ÜÔºÅüéâ</h1>
        <p>Â≠óÊØç R ÁöÑÂñÆÂ≠óÂ∑≤ÂÖ®ÈÉ®ÁÜüË®òÔºÅ</p>
        <button class="status-btn" onclick="resetAll()" style="width: 150px; margin-top: 15px;">ÈáçÊñ∞ÈñãÂßã</button>
    </div>

    <script>
        const wordData = [
            { word: "rabbit", pos: "noun", def: "ÂÖîÂ≠ê", sentence: "The rabbit has long ears.", translation: "ÂÖîÂ≠êÊúâÈï∑ËÄ≥Êúµ„ÄÇ" },
            { word: "race", pos: "noun/verb", def: "Ë≥ΩË∑ë„ÄÅÁ®ÆÊóè", sentence: "Who won the race?", translation: "Ë™∞Ë¥è‰∫ÜÊØîË≥ΩÔºü" },
            { word: "radio", pos: "noun", def: "Êî∂Èü≥Ê©ü", sentence: "I listen to the radio in the car.", translation: "ÊàëÂú®Ëªä‰∏äËÅΩÊî∂Èü≥Ê©ü„ÄÇ" },
            { word: "railroad", pos: "noun", def: "ÈêµË∑Ø", sentence: "The railroad crosses the river.", translation: "ÈêµË∑ØË∑®Ë∂äÈÇ£Ê¢ùÊ≤≥„ÄÇ" },
            { word: "rain", pos: "noun/verb", def: "Èõ®„ÄÅ‰∏ãÈõ®", sentence: "It looks like rain.", translation: "ÁúãËµ∑‰æÜË¶Å‰∏ãÈõ®‰∫Ü„ÄÇ" },
            { word: "rainbow", pos: "noun", def: "ÂΩ©Ëôπ", sentence: "Look at the beautiful rainbow.", translation: "ÁúãÈÇ£ÁæéÈ∫óÁöÑÂΩ©Ëôπ„ÄÇ" },
            { word: "raincoat", pos: "noun", def: "Èõ®Ë°£", sentence: "Wear your raincoat.", translation: "Á©ø‰∏ä‰Ω†ÁöÑÈõ®Ë°£„ÄÇ" },
            { word: "rainy", pos: "adj.", def: "‰∏ãÈõ®ÁöÑ", sentence: "I hate rainy days.", translation: "ÊàëË®éÂé≠‰∏ãÈõ®Â§©„ÄÇ" },
            { word: "raise", pos: "verb/noun", def: "ËàâËµ∑„ÄÅÊí´È§ä", sentence: "Please raise your hand.", translation: "Ë´ãËàâÊâã„ÄÇ" },
            { word: "rare", pos: "adj.", def: "Á®ÄÊúâÁöÑ", sentence: "This bird is very rare.", translation: "ÈÄôÁ®ÆÈ≥•ÂæàÁ®ÄÊúâ„ÄÇ" },
            { word: "rat", pos: "noun", def: "ËÄÅÈº†(ËºÉÂ§ßÁöÑ)", sentence: "I saw a huge rat.", translation: "ÊàëÁúãÂà∞‰∏ÄÈöªÂ§ßËÄÅÈº†„ÄÇ" },
            { word: "rather", pos: "adv.", def: "ÂØßÈ°ò„ÄÅÁõ∏Áï∂", sentence: "I would rather stay home.", translation: "ÊàëÂØßÈ°òÂæÖÂú®ÂÆ∂„ÄÇ" },
            { word: "reach", pos: "verb", def: "Âà∞ÈÅî„ÄÅ‰º∏ÊâãÂèä", sentence: "Can you reach the top shelf?", translation: "‰Ω†ÊêÜÂæóÂà∞ÊúÄ‰∏äÈù¢ÁöÑÊû∂Â≠êÂóéÔºü" },
            { word: "read", pos: "verb", def: "Èñ±ËÆÄ", sentence: "I like to read books.", translation: "ÊàëÂñúÊ≠°ÁúãÊõ∏„ÄÇ" },
            { word: "ready", pos: "adj.", def: "Ê∫ñÂÇôÂ•ΩÁöÑ", sentence: "Are you ready to go?", translation: "‰Ω†Ê∫ñÂÇôÂ•ΩË¶ÅËµ∞‰∫ÜÂóéÔºü" },
            { word: "real", pos: "adj.", def: "ÁúüÂØ¶ÁöÑ", sentence: "Is this flower real?", translation: "ÈÄôÊúµËä±ÊòØÁúüÁöÑÂóéÔºü" },
            { word: "realize", pos: "verb", def: "‰∫ÜËß£„ÄÅÂØ¶Áèæ", sentence: "I didn't realize you were here.", translation: "Êàë‰∏çÁü•ÈÅì‰Ω†Âú®ÈÄôË£°„ÄÇ" },
            { word: "really", pos: "adv.", def: "ÁúüÂú∞", sentence: "I am really sorry.", translation: "ÊàëÁúüÁöÑÂæàÊä±Ê≠â„ÄÇ" },
            { word: "reason", pos: "noun", def: "ÁêÜÁî±", sentence: "Give me a good reason.", translation: "Áµ¶Êàë‰∏ÄÂÄãÂ•ΩÁêÜÁî±„ÄÇ" },
            { word: "receive", pos: "verb", def: "Êî∂Âà∞", sentence: "I received a letter today.", translation: "Êàë‰ªäÂ§©Êî∂Âà∞‰∏ÄÂ∞Å‰ø°„ÄÇ" },
            { word: "recent", pos: "adj.", def: "ÊúÄËøëÁöÑ", sentence: "This is a recent photo.", translation: "ÈÄôÊòØ‰∏ÄÂºµÊúÄËøëÁöÑÁÖßÁâá„ÄÇ" },
            { word: "record", pos: "noun/verb", def: "Ë®òÈåÑ„ÄÅÈåÑÈü≥", sentence: "He broke the world record.", translation: "‰ªñÊâìÁ†¥‰∫Ü‰∏ñÁïåÁ¥ÄÈåÑ„ÄÇ" },
            { word: "recover", pos: "verb", def: "ÊÅ¢Âæ©", sentence: "I hope you recover soon.", translation: "Â∏åÊúõ‰Ω†Êó©Êó•Â∫∑Âæ©„ÄÇ" },
            { word: "red", pos: "adj./noun", def: "Á¥ÖËâ≤", sentence: "Apples are red.", translation: "ËòãÊûúÊòØÁ¥ÖËâ≤ÁöÑ„ÄÇ" },
            { word: "refrigerator", pos: "noun", def: "ÂÜ∞ÁÆ±", sentence: "The milk is in the refrigerator.", translation: "ÁâõÂ•∂Âú®ÂÜ∞ÁÆ±Ë£°„ÄÇ" },
            { word: "refuse", pos: "verb", def: "ÊãíÁµï", sentence: "He refused to help me.", translation: "‰ªñÊãíÁµïÂπ´Êàë„ÄÇ" },
            { word: "regard", pos: "noun/verb", def: "ÈóúÂøÉ„ÄÅË¶ñÁÇ∫", sentence: "Give my regards to your parents.", translation: "‰ª£ÊàëÂïèÂÄô‰Ω†Áà∂ÊØç„ÄÇ" },
            { word: "regular", pos: "adj.", def: "Ë¶èÂæãÁöÑ„ÄÅÊôÆÈÄöÁöÑ", sentence: "I want a regular coffee.", translation: "ÊàëË¶Å‰∏ÄÊùØÊôÆÈÄöÂíñÂï°„ÄÇ" },
            { word: "reject", pos: "verb", def: "ÊãíÁµï", sentence: "She rejected his offer.", translation: "Â•πÊãíÁµï‰∫Ü‰ªñÁöÑÊèêË≠∞„ÄÇ" },
            { word: "relation", pos: "noun", def: "Èóú‰øÇ", sentence: "What is the relation between them?", translation: "‰ªñÂÄë‰πãÈñìÊòØ‰ªÄÈ∫ºÈóú‰øÇÔºü" },
            { word: "relative", pos: "noun/adj.", def: "Ë¶™ÊàöÔºõÁõ∏Â∞çÁöÑ", sentence: "All my relatives came to the party.", translation: "ÊàëÊâÄÊúâÁöÑË¶™ÊàöÈÉΩ‰æÜÂèÉÂä†Ê¥æÂ∞ç‰∫Ü„ÄÇ" },
            { word: "relax", pos: "verb", def: "ÊîæÈ¨Ü", sentence: "Just relax and enjoy.", translation: "ÊîæËºïÈ¨Ü‰∏¶‰∫´Âèó„ÄÇ" },
            { word: "religion", pos: "noun", def: "ÂÆóÊïô", sentence: "Buddhism is a religion.", translation: "‰ΩõÊïôÊòØ‰∏ÄÁ®ÆÂÆóÊïô„ÄÇ" },
            { word: "remember", pos: "verb", def: "Ë®òÂæó", sentence: "Do you remember me?", translation: "‰Ω†Ë®òÂæóÊàëÂóéÔºü" },
            { word: "remind", pos: "verb", def: "ÊèêÈÜí", sentence: "Please remind me later.", translation: "Ë´ãÊôöÈªûÊèêÈÜíÊàë„ÄÇ" },
            { word: "rent", pos: "noun/verb", def: "ÁßüÈáë„ÄÅÁßüÁî®", sentence: "We rent an apartment.", translation: "ÊàëÂÄëÁßü‰∫Ü‰∏ÄÈñìÂÖ¨ÂØì„ÄÇ" },
            { word: "repair", pos: "verb/noun", def: "‰øÆÁêÜ", sentence: "Can you repair my bike?", translation: "‰Ω†ËÉΩ‰øÆÊàëÁöÑËÖ≥Ë∏èËªäÂóéÔºü" },
            { word: "repeat", pos: "verb", def: "ÈáçË§á", sentence: "Please repeat after me.", translation: "Ë´ãË∑üËëóÊàëÂî∏„ÄÇ" },
            { word: "report", pos: "noun/verb", def: "Â†±Âëä", sentence: "He wrote a report on history.", translation: "‰ªñÂØ´‰∫Ü‰∏Ä‰ªΩÊ≠∑Âè≤Â†±Âëä„ÄÇ" },
            { word: "reporter", pos: "noun", def: "Ë®òËÄÖ", sentence: "The reporter is interviewing the star.", translation: "Ë®òËÄÖÊ≠£Âú®Êé°Ë®™ÈÇ£‰ΩçÊòéÊòü„ÄÇ" },
            { word: "respect", pos: "noun/verb", def: "Â∞äÊï¨", sentence: "We should respect our elders.", translation: "ÊàëÂÄëÊáâË©≤Â∞äÊï¨Èï∑Ëº©„ÄÇ" },
            { word: "responsible", pos: "adj.", def: "Ë≤†Ë≤¨‰ªªÁöÑ", sentence: "Who is responsible for this mess?", translation: "Ë™∞Ë¶ÅÂ∞çÈÄô‰∏ÄÂúò‰∫ÇË≤†Ë≤¨Ôºü" },
            { word: "rest", pos: "noun/verb", def: "‰ºëÊÅØ„ÄÅÂÖ∂È§ò", sentence: "Let's take a rest.", translation: "ÊàëÂÄë‰ºëÊÅØ‰∏Ä‰∏ãÂêß„ÄÇ" },
            { word: "restaurant", pos: "noun", def: "È§êÂª≥", sentence: "We ate at a nice restaurant.", translation: "ÊàëÂÄëÂú®‰∏ÄÈñìÂæàÊ£íÁöÑÈ§êÂª≥ÂêÉÈ£Ø„ÄÇ" },
            { word: "restroom", pos: "noun", def: "Ê¥óÊâãÈñì", sentence: "Where is the restroom?", translation: "Ê¥óÊâãÈñìÂú®Âì™Ë£°Ôºü" },
            { word: "result", pos: "noun", def: "ÁµêÊûú", sentence: "The result was good.", translation: "ÁµêÊûúÂæàÂ•Ω„ÄÇ" },
            { word: "return", pos: "verb/noun", def: "ËøîÂõû„ÄÅÊ≠∏ÈÇÑ", sentence: "Please return the book.", translation: "Ë´ãÊ≠∏ÈÇÑÈÄôÊú¨Êõ∏„ÄÇ" },
            { word: "review", pos: "noun/verb", def: "Ë§áÁøí„ÄÅË©ïË´ñ", sentence: "Let's review the lesson.", translation: "ÊàëÂÄë‰æÜË§áÁøíÈÄô‰∏ÄË™≤„ÄÇ" },
            { word: "revise", pos: "verb", def: "‰øÆÊîπ„ÄÅ‰øÆË®Ç", sentence: "I need to revise my essay.", translation: "ÊàëÈúÄË¶Å‰øÆÊîπÊàëÁöÑÊñáÁ´†„ÄÇ" },
            { word: "rice", pos: "noun", def: "Á±≥È£Ø", sentence: "We eat rice every day.", translation: "ÊàëÂÄëÊØèÂ§©ÂêÉÁôΩÈ£Ø„ÄÇ" },
            { word: "rich", pos: "adj.", def: "ÂØåÊúâÁöÑ", sentence: "He wants to be rich.", translation: "‰ªñÊÉ≥Ë¶ÅËÆäÂØåÊúâ„ÄÇ" },
            { word: "ride", pos: "verb/noun", def: "È®é„ÄÅÊê≠‰πò", sentence: "Can you ride a bike?", translation: "‰Ω†ÊúÉÈ®éËÖ≥Ë∏èËªäÂóéÔºü" },
            { word: "right", pos: "adj./adv./noun", def: "Â∞çÁöÑ„ÄÅÂè≥ÈÇä„ÄÅÊ¨äÂà©", sentence: "Turn right.", translation: "Âè≥ËΩâ„ÄÇ" },
            { word: "ring", pos: "noun/verb", def: "ÊàíÊåá„ÄÅÈà¥Èüø", sentence: "The phone is ringing.", translation: "ÈõªË©±Èüø‰∫Ü„ÄÇ" },
            { word: "rise", pos: "verb/noun", def: "‰∏äÂçá", sentence: "The sun rises in the east.", translation: "Â§™ÈôΩÂæûÊù±ÊñπÂçáËµ∑„ÄÇ" },
            { word: "river", pos: "noun", def: "Ê≤≥ÊµÅ", sentence: "The river is very long.", translation: "ÈÄôÊ¢ùÊ≤≥ÂæàÈï∑„ÄÇ" },
            { word: "road", pos: "noun", def: "ÈÅìË∑Ø", sentence: "The road is bumpy.", translation: "ÈÄôÊ¢ùË∑ØÂæàÈ°õÁ∞∏„ÄÇ" },
            { word: "rob", pos: "verb", def: "Êê∂Âä´", sentence: "Someone robbed the bank.", translation: "Êúâ‰∫∫Êê∂‰∫ÜÈäÄË°å„ÄÇ" },
            { word: "robot", pos: "noun", def: "Ê©üÂô®‰∫∫", sentence: "The robot can dance.", translation: "Ê©üÂô®‰∫∫ÊúÉË∑≥Ëàû„ÄÇ" },
            { word: "rock", pos: "noun", def: "Â≤©Áü≥„ÄÅÊêñÊªæÊ®Ç", sentence: "He threw a rock into the water.", translation: "‰ªñ‰∏ü‰∫Ü‰∏ÄÈ°ÜÁü≥È†≠Âà∞Ê∞¥Ë£°„ÄÇ" },
            { word: "rocket", pos: "noun", def: "ÁÅ´ÁÆ≠", sentence: "The rocket flew into space.", translation: "ÁÅ´ÁÆ≠È£õÂêëÂ§™Á©∫„ÄÇ" },
            { word: "role", pos: "noun", def: "ËßíËâ≤", sentence: "He played a key role.", translation: "‰ªñÊâÆÊºî‰∫ÜÈóúÈçµËßíËâ≤„ÄÇ" },
            { word: "roll", pos: "verb/noun", def: "ÊªæÂãï„ÄÅÊç≤", sentence: "The ball rolled away.", translation: "ÁêÉÊªæËµ∞‰∫Ü„ÄÇ" },
            { word: "roof", pos: "noun", def: "Â±ãÈ†Ç", sentence: "The cat is on the roof.", translation: "Ë≤ìÂú®Â±ãÈ†Ç‰∏ä„ÄÇ" },
            { word: "room", pos: "noun", def: "ÊàøÈñì„ÄÅÁ©∫Èñì", sentence: "Is there enough room for me?", translation: "ÊúâË∂≥Â§†ÁöÑÁ©∫ÈñìÁµ¶ÊàëÂóéÔºü" },
            { word: "root", pos: "noun", def: "Ê†π", sentence: "Trees have deep roots.", translation: "Ê®πÊúâÊ∑±Ê†π„ÄÇ" },
            { word: "rope", pos: "noun", def: "Áπ©Â≠ê", sentence: "Tie the knot with a rope.", translation: "Áî®Áπ©Â≠êÊâìÁµê„ÄÇ" },
            { word: "rose", pos: "noun", def: "Áé´Áë∞", sentence: "He gave her a red rose.", translation: "‰ªñÈÄÅÂ•π‰∏ÄÊúµÁ¥ÖÁé´Áë∞„ÄÇ" },
            { word: "round", pos: "adj./prep.", def: "ÂúìÁöÑ„ÄÅÂúçÁπû", sentence: "The table is round.", translation: "ÈÄôÂºµÊ°åÂ≠êÊòØÂúìÁöÑ„ÄÇ" },
            { word: "row", pos: "noun/verb", def: "Êéí„ÄÅÂàíËàπ", sentence: "We sat in the front row.", translation: "ÊàëÂÄëÂùêÂú®Á¨¨‰∏ÄÊéí„ÄÇ" },
            { word: "royal", pos: "adj.", def: "ÁöáÂÆ∂ÁöÑ", sentence: "The royal family lives here.", translation: "ÁöáÂÆ§ÂÆ∂Êóè‰ΩèÂú®ÈÄôË£°„ÄÇ" },
            { word: "rub", pos: "verb", def: "Êë©Êì¶", sentence: "He rubbed his eyes.", translation: "‰ªñÊèâ‰∫ÜÊèâÁúºÁùõ„ÄÇ" },
            { word: "rubber", pos: "noun", def: "Ê©°ËÜ†", sentence: "Tires are made of rubber.", translation: "Ëº™ËÉéÊòØÊ©°ËÜ†ÂÅöÁöÑ„ÄÇ" },
            { word: "rude", pos: "adj.", def: "ÁÑ°Á¶ÆÁöÑ", sentence: "It is rude to stare.", translation: "ÁõØËëó‰∫∫ÁúãÊòØÁÑ°Á¶ÆÁöÑ„ÄÇ" },
            { word: "rule", pos: "noun/verb", def: "Ë¶èÂâáÔºõÁµ±Ê≤ª", sentence: "Follow the rules.", translation: "ÈÅµÂÆàË¶èÂâá„ÄÇ" },
            { word: "ruler", pos: "noun", def: "Â∞∫„ÄÅÁµ±Ê≤ªËÄÖ", sentence: "I use a ruler to draw lines.", translation: "ÊàëÁî®Â∞∫Áï´Á∑ö„ÄÇ" },
            { word: "run", pos: "verb", def: "Ë∑ë„ÄÅÁ∂ìÁáü", sentence: "He can run very fast.", translation: "‰ªñÂèØ‰ª•Ë∑ëÂæàÂø´„ÄÇ" },
            { word: "rush", pos: "verb/noun", def: "ÂåÜÂøô", sentence: "Don't rush.", translation: "‰∏çË¶ÅÂåÜÂøô„ÄÇ" }
        ];

        let list = [...wordData];
        let idx = 0;
        const colors = ['#FF6B95', '#FFD93D', '#6BCB77', '#4D96FF', '#FF9F43'];

        function update() {
            if (!list.length) return showSuccess();
            const item = list[idx];
            const color = colors[Math.floor(Math.random() * colors.length)];
            const wordEl = document.getElementById('word-display');
            
            // ÂãïÊÖãÂ≠óÈ´îÁ∏ÆÊîæ
            let fontSize = 64; 
            if (item.word.length > 13) fontSize = 38;
            else if (item.word.length > 10) fontSize = 48;
            
            wordEl.innerText = item.word;
            wordEl.style.fontSize = fontSize + "px";
            wordEl.style.color = color;
            
            document.getElementById('pos-display').innerText = `(${item.pos})`;
            document.querySelector('.card-front').style.borderColor = color;
            
            document.getElementById('def-display').innerText = item.def;
            document.getElementById('def-display').style.color = (color === '#FFD93D') ? '#FF6B95' : '#FFD93D';
            document.getElementById('sentence-en-display').innerText = item.sentence;
            document.getElementById('sentence-zh-display').innerText = item.translation;
            document.getElementById('card-back-face').style.backgroundColor = color;
            
            document.getElementById('card').classList.remove('flipped');
            updateProg();
        }

        function updateProg() {
            const m = wordData.length - list.length;
            document.getElementById('progress-fill').style.width = (m / wordData.length * 100) + "%";
            document.getElementById('progress-text').innerText = `${m} / ${wordData.length}`;
        }

        function flipCard() { document.getElementById('card').classList.toggle('flipped'); }
        function nextCard() { if (!list.length) return; idx = (idx + 1) % list.length; update(); }
        function prevCard() { if (!list.length) return; idx = (idx - 1 + list.length) % list.length; update(); }
        
        function markMastered() {
            list.splice(idx, 1);
            if (!list.length) return showSuccess();
            if (idx >= list.length) idx = 0;
            update();
        }

        function speakWord(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].word);
            m.lang = 'en-US';
            window.speechSynthesis.speak(m);
        }

        function speakSentence(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].sentence);
            m.lang = 'en-US';
            m.rate = 0.8;
            window.speechSynthesis.speak(m);
        }

        function showSuccess() {
            document.getElementById('learning-ui').style.display = 'none';
            document.getElementById('header-ui').style.display = 'none';
            document.getElementById('success-screen').style.display = 'flex';
        }

        function resetAll() {
            list = [...wordData]; idx = 0;
            document.getElementById('learning-ui').style.display = 'block';
            document.getElementById('header-ui').style.display = 'block';
            document.getElementById('success-screen').style.display = 'none';
            update();
        }

        window.onload = update;
    </script>
</body>
</html>

