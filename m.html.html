
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GEPT Level M - Â§öÂ∑¥ËÉ∫ÂñÆÂ≠óÂç° V8</title>
    <style>
        :root {
            --bg-color: #F8F9FA;
            --pink: #FF6B95;
            --yellow: #FFD93D;
            --green: #6BCB77;
            --blue: #4D96FF;
            --purple: #A29BFE;
            --orange: #FF9F43;
            --text-color: #2D3436;
        }

        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            box-sizing: border-box;
        }

        .header {
            width: 100%;
            max-width: 420px;
            margin-bottom: 8px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3px;
            font-size: 14px;
            font-weight: bold;
        }

        .progress-bar {
            height: 10px;
            background-color: #EEE;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green), var(--yellow));
            width: 0%;
            transition: width 0.3s;
        }

        .flashcard-container {
            width: 420px;
            height: 320px;
            perspective: 1000px;
            margin-bottom: 15px;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .flashcard.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .card-front {
            background-color: white;
            border: 10px solid var(--pink);
        }

        .word-text {
            font-weight: 900;
            color: var(--pink);
            margin: 0;
            line-height: 1.1;
            white-space: nowrap; 
        }

        .pos-text {
            font-size: 20px;
            color: #AAA;
            font-style: italic;
            margin-top: 8px;
        }

        .card-back {
            background-color: var(--blue);
            color: white;
            transform: rotateY(180deg);
        }

        .def-text {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--yellow);
        }

        .sentence-en {
            font-size: 22px;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 10px;
        }

        .sentence-zh {
            font-size: 18px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 12px;
        }

        .speak-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 42px;
            height: 42px;
            font-size: 22px;
            background: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .controls {
            width: 420px;
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .nav-btn, .status-btn {
            height: 50px;
            border: 3px solid var(--text-color);
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 0 var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.1s;
        }

        .nav-btn {
            width: 55px;
            font-size: 22px;
            background-color: var(--purple);
            color: white;
        }

        .nav-btn.next { background-color: var(--yellow); color: var(--text-color); }

        .status-btn { flex: 1; font-size: 16px; }

        .btn-mastered { background-color: var(--green); color: white; }
        .btn-learning { background-color: white; color: var(--text-color); }

        .nav-btn:active, .status-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 var(--text-color);
        }

        #success-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        @media (max-width: 430px) {
            .flashcard-container, .controls, .header { width: 95vw; }
            .flashcard-container { height: 75vw; }
        }
    </style>
</head>
<body>

    <div class="header" id="header-ui">
        <div class="progress-info">
            <span id="progress-text">0 / 105</span>
            <span onclick="resetAll()" style="font-size: 12px; cursor:pointer; color: #888;">‚Ü∫ ÂÖ®ÈÉ®Èáç‰æÜ</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>

    <div id="learning-ui">
        <div class="flashcard-container">
            <div class="flashcard" id="card" onclick="flipCard()">
                <div class="card-face card-front">
                    <button class="speak-btn" onclick="speakWord(event)">üîä</button>
                    <p class="word-text" id="word-display">Word</p>
                    <p class="pos-text" id="pos-display">(pos)</p>
                </div>
                <div class="card-face card-back" id="card-back-face">
                    <button class="speak-btn" onclick="speakSentence(event)" style="border: 1px solid #eee;">üîä</button>
                    <p class="def-text" id="def-display">ÂÆöÁæ©</p>
                    <p class="sentence-en" id="sentence-en-display">Sentence.</p>
                    <p class="sentence-zh" id="sentence-zh-display">ÁøªË≠Ø</p>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="nav-btn" onclick="prevCard()">‚¨Ö</button>
            <button class="status-btn btn-mastered" onclick="markMastered()">Â∑≤Á≤æÁÜü</button>
            <button class="status-btn btn-learning" onclick="nextCard()">Â≠∏Áøí‰∏≠</button>
            <button class="nav-btn next" onclick="nextCard()">‚û°</button>
        </div>
    </div>

    <div id="success-screen">
        <h1 style="color: var(--pink);">Â§™Ê£í‰∫ÜÔºÅüéâ</h1>
        <p>M Áæ§ÁµÑÂñÆÂ≠óÂ∑≤ÂÖ®ÈÉ®ÁÜüË®òÔºÅ</p>
        <button class="status-btn" onclick="resetAll()" style="width: 150px; margin-top: 15px;">ÈáçÊñ∞ÈñãÂßã</button>
    </div>

    <script>
        const wordData = [
            { word: "machine", pos: "noun", def: "Ê©üÂô®", sentence: "This machine makes coffee.", translation: "ÈÄôÂè∞Ê©üÂô®ÊúÉÁÖÆÂíñÂï°„ÄÇ" },
            { word: "mad", pos: "adj.", def: "ÁîüÊ∞£ÁöÑ„ÄÅÁôºÁòãÁöÑ", sentence: "Don't be mad at me.", translation: "Âà•ÁîüÊàëÁöÑÊ∞£„ÄÇ" },
            { word: "magazine", pos: "noun", def: "ÈõúË™å", sentence: "I like reading fashion magazines.", translation: "ÊàëÂñúÊ≠°ÁúãÊôÇÂ∞öÈõúË™å„ÄÇ" },
            { word: "magic", pos: "n/adj", def: "È≠îË°ì„ÄÅÁ•ûÂ•áÁöÑ", sentence: "Do you believe in magic?", translation: "‰Ω†Áõ∏‰ø°È≠îÊ≥ïÂóéÔºü" },
            { word: "magician", pos: "noun", def: "È≠îË°ìÂ∏´", sentence: "The magician pulled a rabbit out of a hat.", translation: "È≠îË°ìÂ∏´ÂæûÂ∏ΩÂ≠êË£°ÊäìÂá∫‰∏ÄÈöªÂÖîÂ≠ê„ÄÇ" },
            { word: "mail", pos: "n/v", def: "ÈÉµ‰ª∂ÔºõÂØÑ‰ø°", sentence: "Did you get my mail?", translation: "‰Ω†Êî∂Âà∞ÊàëÁöÑ‰ø°‰∫ÜÂóéÔºü" },
            { word: "mailman", pos: "noun", def: "ÈÉµÂ∑Æ", sentence: "The mailman delivers letters.", translation: "ÈÉµÂ∑ÆÈÄÅ‰ø°„ÄÇ" },
            { word: "main", pos: "adj.", def: "‰∏ªË¶ÅÁöÑ", sentence: "What is the main idea?", translation: "‰∏ªÊó®ÊòØ‰ªÄÈ∫ºÔºü" },
            { word: "major", pos: "adj.", def: "‰∏ªË¶ÅÁöÑ„ÄÅÈáçÂ§ßÁöÑ", sentence: "It is a major problem.", translation: "ÈÄôÊòØÂÄãÂ§ßÂïèÈ°å„ÄÇ" },
            { word: "make", pos: "verb", def: "Ë£ΩÈÄ†„ÄÅ‰ΩøÂæó", sentence: "My mom makes great cakes.", translation: "ÊàëÂ™ΩÂæàÊúÉÂÅöËõãÁ≥ï„ÄÇ" },
            { word: "male", pos: "adj/n", def: "Áî∑ÊÄß(ÁöÑ)", sentence: "Check 'Male' or 'Female'.", translation: "ÂãæÈÅ∏„ÄåÁî∑„ÄçÊàñ„ÄåÂ•≥„Äç„ÄÇ" },
            { word: "mall", pos: "noun", def: "Ë≥ºÁâ©‰∏≠ÂøÉ", sentence: "We went shopping at the mall.", translation: "ÊàëÂÄëÂéªË≥ºÁâ©‰∏≠ÂøÉÈÄõË°ó„ÄÇ" },
            { word: "man", pos: "noun", def: "Áî∑‰∫∫", sentence: "That man is my uncle.", translation: "ÈÇ£ÂÄãÁî∑‰∫∫ÊòØÊàëÂèîÂèî„ÄÇ" },
            { word: "manager", pos: "noun", def: "Á∂ìÁêÜ", sentence: "Can I speak to the manager?", translation: "ÊàëÂèØ‰ª•Ë∑üÁ∂ìÁêÜË™™Ë©±ÂóéÔºü" },
            { word: "mandarin", pos: "noun", def: "ÂúãË™û(‰∏≠Êñá)", sentence: "She speaks fluent Mandarin.", translation: "Â•πË™™ÊµÅÂà©ÁöÑÂúãË™û„ÄÇ" },
            { word: "mango", pos: "noun", def: "ËäíÊûú", sentence: "Mango is a tropical fruit.", translation: "ËäíÊûúÊòØÁÜ±Â∏∂Ê∞¥Êûú„ÄÇ" },
            { word: "many", pos: "adj/pron", def: "Ë®±Â§öÁöÑ", sentence: "How many apples do you have?", translation: "‰Ω†ÊúâÂπæÈ°ÜËòãÊûúÔºü" },
            { word: "map", pos: "noun", def: "Âú∞Âúñ", sentence: "Look at the map to find the way.", translation: "ÁúãÂú∞ÂúñÊâæË∑Ø„ÄÇ" },
            { word: "March", pos: "noun", def: "‰∏âÊúà", sentence: "Spring begins in March.", translation: "Êò•Â§©Âæû‰∏âÊúàÈñãÂßã„ÄÇ" },
            { word: "mark", pos: "n/v", def: "Ë®òËôüÔºõÂàÜÊï∏", sentence: "He got a high mark on the test.", translation: "‰ªñËÄÉË©¶Âæó‰∫ÜÈ´òÂàÜ„ÄÇ" },
            { word: "market", pos: "noun", def: "Â∏ÇÂ†¥", sentence: "She buys vegetables at the market.", translation: "Â•πÂú®Â∏ÇÂ†¥Ë≤∑Ëèú„ÄÇ" },
            { word: "marriage", pos: "noun", def: "Â©öÂßª", sentence: "They have a happy marriage.", translation: "‰ªñÂÄëÊúâÂπ∏Á¶èÁöÑÂ©öÂßª„ÄÇ" },
            { word: "married", pos: "adj.", def: "Â∑≤Â©öÁöÑ", sentence: "He is married with two kids.", translation: "‰ªñÂ∑≤Â©ö‰∏¶ÊúâÂÖ©ÂÄãÂ∞èÂ≠©„ÄÇ" },
            { word: "marry", pos: "verb", def: "ÁµêÂ©ö", sentence: "Will you marry me?", translation: "‰Ω†È°òÊÑèÂ´ÅÁµ¶ÊàëÂóéÔºü" },
            { word: "mask", pos: "noun", def: "Èù¢ÂÖ∑„ÄÅÂè£ÁΩ©", sentence: "Wear a mask when you are sick.", translation: "ÁîüÁóÖÊôÇË´ãÊà¥Âè£ÁΩ©„ÄÇ" },
            { word: "mass", pos: "noun", def: "Â§ßÁúæ„ÄÅÂúòÂ°ä", sentence: "The media influences the masses.", translation: "Â™íÈ´îÂΩ±ÈüøÂ§ßÁúæ„ÄÇ" },
            { word: "master", pos: "n/v", def: "‰∏ª‰∫∫„ÄÅÂ§ßÂ∏´", sentence: "Practice makes master.", translation: "ÁÜüËÉΩÁîüÂ∑ß„ÄÇ" },
            { word: "mat", pos: "noun", def: "Â¢äÂ≠ê", sentence: "Wipe your feet on the mat.", translation: "Âú®Â¢äÂ≠ê‰∏äÊì¶Êì¶ËÖ≥„ÄÇ" },
            { word: "match", pos: "n/v", def: "ÊØîË≥ΩÔºõÁõ∏ÈÖç", sentence: "The shirt matches your pants.", translation: "ÈÄô‰ª∂Ë•ØË°´Ë∑ü‰Ω†ÁöÑË§≤Â≠êÂæàÊê≠„ÄÇ" },
            { word: "math", pos: "noun", def: "Êï∏Â≠∏", sentence: "I am good at math.", translation: "ÊàëÊìÖÈï∑Êï∏Â≠∏„ÄÇ" },
            { word: "mathematics", pos: "noun", def: "Êï∏Â≠∏(Ê≠£Âºè)", sentence: "Mathematics is the language of science.", translation: "Êï∏Â≠∏ÊòØÁßëÂ≠∏ÁöÑË™ûË®Ä„ÄÇ" },
            { word: "matter", pos: "n/v", def: "‰∫ãÊÉÖÔºõË¶ÅÁ∑ä", sentence: "It doesn't matter.", translation: "Ê≤íÈóú‰øÇ/‰∏çË¶ÅÁ∑ä„ÄÇ" },
            { word: "May", pos: "noun", def: "‰∫îÊúà", sentence: "Mother's Day is in May.", translation: "ÊØçË¶™ÁØÄÂú®‰∫îÊúà„ÄÇ" },
            { word: "may", aux: "aux.", def: "ÂèØËÉΩ„ÄÅÂèØ‰ª•", sentence: "May I come in?", translation: "ÊàëÂèØ‰ª•ÈÄ≤‰æÜÂóéÔºü" },
            { word: "maybe", pos: "adv.", def: "‰πüË®±", sentence: "Maybe he is right.", translation: "‰πüË®±‰ªñÊòØÂ∞çÁöÑ„ÄÇ" },
            { word: "meal", pos: "noun", def: "È§êÈªû", sentence: "Enjoy your meal.", translation: "Ë´ãÊÖ¢Áî®„ÄÇ" },
            { word: "mean", pos: "verb", def: "ÊÑèÊåá", sentence: "What do you mean?", translation: "‰Ω†ÊòØ‰ªÄÈ∫ºÊÑèÊÄùÔºü" },
            { word: "mean", pos: "adj.", def: "ÂàªËñÑÁöÑ„ÄÅÂçëÈÑôÁöÑ", sentence: "Don't be so mean to her.", translation: "Âà•Â∞çÂ•πÈÄôÈ∫ºÂàªËñÑ„ÄÇ" },
            { word: "meaning", pos: "noun", def: "ÊÑèÁæ©", sentence: "What is the meaning of this word?", translation: "ÈÄôÂÄãÂ≠óÁöÑÊÑèÊÄùÊòØ‰ªÄÈ∫ºÔºü" },
            { word: "measure", pos: "verb", def: "Ê∏¨Èáè", sentence: "Can you measure the table?", translation: "‰Ω†ÂèØ‰ª•Èáè‰∏Ä‰∏ãÈÄôÂºµÊ°åÂ≠êÂóéÔºü" },
            { word: "meat", pos: "noun", def: "ËÇâÈ°û", sentence: "Vegetarians don't eat meat.", translation: "Á¥†È£üËÄÖ‰∏çÂêÉËÇâ„ÄÇ" },
            { word: "mechanic", pos: "noun", def: "ÊäÄÂ∑•", sentence: "The mechanic fixed my car.", translation: "ÊäÄÂ∑•‰øÆÂ•Ω‰∫ÜÊàëÁöÑËªä„ÄÇ" },
            { word: "medicine", pos: "noun", def: "Ëó•Áâ©", sentence: "Take this medicine after meals.", translation: "È£ØÂæåÊúçÁî®ÈÄôËó•„ÄÇ" },
            { word: "medium", pos: "adj/n", def: "‰∏≠Á≠âÁöÑ", sentence: "I'd like a medium steak.", translation: "ÊàëË¶Å‰∫îÂàÜÁÜüÁöÑÁâõÊéí„ÄÇ" },
            { word: "meet", pos: "verb", def: "ÈÅáË¶ã", sentence: "Nice to meet you.", translation: "ÂæàÈ´òËààË™çË≠ò‰Ω†„ÄÇ" },
            { word: "meeting", pos: "noun", def: "ÊúÉË≠∞", sentence: "The meeting starts at 9 AM.", translation: "ÊúÉË≠∞Êó©‰∏ä‰πùÈªûÈñãÂßã„ÄÇ" },
            { word: "member", pos: "noun", def: "ÊàêÂì°", sentence: "He is a member of the club.", translation: "‰ªñÊòØ‰ø±Ê®ÇÈÉ®ÁöÑÊàêÂì°„ÄÇ" },
            { word: "memory", pos: "noun", def: "Ë®òÊÜ∂", sentence: "I have good memories of childhood.", translation: "ÊàëÊúâÁæéÂ•ΩÁöÑÁ´•Âπ¥ÂõûÊÜ∂„ÄÇ" },
            { word: "men", pos: "noun", def: "Áî∑‰∫∫ÂÄë", sentence: "Three men are talking.", translation: "‰∏âÂÄãÁî∑‰∫∫Âú®Ë™™Ë©±„ÄÇ" },
            { word: "mend", pos: "verb", def: "‰øÆË£ú", sentence: "Can you mend my shirt?", translation: "‰Ω†ËÉΩ‰øÆË£úÊàëÁöÑË•ØË°´ÂóéÔºü" },
            { word: "menu", pos: "noun", def: "ËèúÂñÆ", sentence: "May I see the menu?", translation: "ÊàëÂèØ‰ª•ÁúãËèúÂñÆÂóéÔºü" },
            { word: "message", pos: "noun", def: "Ë®äÊÅØ", sentence: "Please leave a message.", translation: "Ë´ãÁïôË®Ä„ÄÇ" },
            { word: "metal", pos: "noun", def: "ÈáëÂ±¨", sentence: "Gold is a precious metal.", translation: "ÈªÉÈáëÊòØË≤¥ÈáçÈáëÂ±¨„ÄÇ" },
            { word: "meter", pos: "noun", def: "ÂÖ¨Â∞∫", sentence: "The pool is 50 meters long.", translation: "Ê≥≥Ê±†Èï∑‰∫îÂçÅÂÖ¨Â∞∫„ÄÇ" },
            { word: "method", pos: "noun", def: "ÊñπÊ≥ï", sentence: "Try a different method.", translation: "Ë©¶Ë©¶‰∏çÂêåÁöÑÊñπÊ≥ï„ÄÇ" },
            { word: "microwave", pos: "noun", def: "ÂæÆÊ≥¢Áàê", sentence: "Heat the soup in the microwave.", translation: "Áî®ÂæÆÊ≥¢ÁàêÂä†ÁÜ±ÊπØ„ÄÇ" },
            { word: "middle", pos: "adj/n", def: "‰∏≠Èñì", sentence: "He stood in the middle of the room.", translation: "‰ªñÁ´ôÂú®ÊàøÈñì‰∏≠Â§Æ„ÄÇ" },
            { word: "midnight", pos: "noun", def: "ÂçàÂ§ú", sentence: "The party ended at midnight.", translation: "Ê¥æÂ∞çÂú®ÂçàÂ§úÁµêÊùü„ÄÇ" },
            { word: "might", aux: "aux.", def: "ÂèØËÉΩ", sentence: "It might rain later.", translation: "ÊôöÈªûÂèØËÉΩÊúÉ‰∏ãÈõ®„ÄÇ" },
            { word: "mile", pos: "noun", def: "Ëã±Âì©", sentence: "It is 10 miles away.", translation: "ÈÇ£Âú®ÂçÅËã±Âì©Â§ñ„ÄÇ" },
            { word: "milk", pos: "noun", def: "ÁâõÂ•∂", sentence: "Drink your milk.", translation: "Âñù‰Ω†ÁöÑÁâõÂ•∂„ÄÇ" },
            { word: "mind", pos: "n/v", def: "ÂøÉÊô∫Ôºõ‰ªãÊÑè", sentence: "Do you mind opening the window?", translation: "‰Ω†‰ªãÊÑèÈñãÁ™óÂóéÔºü" },
            { word: "mine", pos: "pron.", def: "ÊàëÁöÑ(Êù±Ë•ø)", sentence: "That book is mine.", translation: "ÈÇ£Êú¨Êõ∏ÊòØÊàëÁöÑ„ÄÇ" },
            { word: "minor", pos: "adj.", def: "Ê¨°Ë¶ÅÁöÑ„ÄÅËºÉÂ∞èÁöÑ", sentence: "It is a minor problem.", translation: "ÈÄôÊòØÂÄãÂ∞èÂïèÈ°å„ÄÇ" },
            { word: "minus", pos: "prep/n", def: "Ê∏õ", sentence: "Five minus two is three.", translation: "‰∫îÊ∏õ‰∫åÁ≠âÊñº‰∏â„ÄÇ" },
            { word: "minute", pos: "noun", def: "ÂàÜÈêò", sentence: "Wait a minute.", translation: "Á≠â‰∏Ä‰∏ã„ÄÇ" },
            { word: "mirror", pos: "noun", def: "Èè°Â≠ê", sentence: "Look in the mirror.", translation: "ÁÖßÈè°Â≠ê„ÄÇ" },
            { word: "miss", pos: "verb", def: "ÊÉ≥Âøµ„ÄÅÈåØÈÅé", sentence: "I miss you so much.", translation: "ÊàëÂ•ΩÊÉ≥‰Ω†„ÄÇ" },
            { word: "Miss", pos: "noun", def: "Â∞èÂßê", sentence: "Miss Lin is our teacher.", translation: "ÊûóÂ∞èÂßêÊòØÊàëÂÄëÁöÑËÄÅÂ∏´„ÄÇ" },
            { word: "mistake", pos: "noun", def: "ÈåØË™§", sentence: "We all make mistakes.", translation: "ÊàëÂÄëÈÉΩÊúÉÁäØÈåØ„ÄÇ" },
            { word: "mix", pos: "verb", def: "Ê∑∑Âêà", sentence: "Mix the flour and sugar.", translation: "Ê∑∑ÂêàÈ∫µÁ≤âÂíåÁ≥ñ„ÄÇ" },
            { word: "model", pos: "noun", def: "Ê®°Âûã„ÄÅÊ®°ÁâπÂÖí", sentence: "She is a fashion model.", translation: "Â•πÊòØÊôÇË£ùÊ®°ÁâπÂÖí„ÄÇ" },
            { word: "modern", pos: "adj.", def: "Áèæ‰ª£ÁöÑ", sentence: "This building looks very modern.", translation: "ÈÄôÊ£üÂª∫ÁØâÁúãËµ∑‰æÜÂæàÁèæ‰ª£„ÄÇ" },
            { word: "mom", pos: "noun", def: "Â™ΩÂ™Ω", sentence: "My mom is the best.", translation: "ÊàëÂ™ΩÊòØÊúÄÊ£íÁöÑ„ÄÇ" },
            { word: "moment", pos: "noun", def: "ÁâáÂàª", sentence: "Just a moment, please.", translation: "Ë´ãÁ®çÁ≠âÁâáÂàª„ÄÇ" },
            { word: "Monday", pos: "noun", def: "ÊòüÊúü‰∏Ä", sentence: "I go to work on Monday.", translation: "ÊàëÊòüÊúü‰∏ÄÂéª‰∏äÁè≠„ÄÇ" },
            { word: "money", pos: "noun", def: "Èå¢Ë≤°", sentence: "Time is money.", translation: "ÊôÇÈñìÂ∞±ÊòØÈáëÈå¢„ÄÇ" },
            { word: "monkey", pos: "noun", def: "Áå¥Â≠ê", sentence: "The monkey is climbing a tree.", translation: "Áå¥Â≠êÊ≠£Âú®Áà¨Ê®π„ÄÇ" },
            { word: "monster", pos: "noun", def: "ÊÄ™Áç∏", sentence: "There is a monster under my bed.", translation: "ÊàëÁöÑÂ∫äÂ∫ï‰∏ãÊúâÈöªÊÄ™Áç∏„ÄÇ" },
            { word: "month", pos: "noun", def: "Êúà‰ªΩ", sentence: "There are 12 months in a year.", translation: "‰∏ÄÂπ¥ÊúâÂçÅ‰∫åÂÄãÊúà„ÄÇ" },
            { word: "moon", pos: "noun", def: "Êúà‰∫Æ", sentence: "The moon is bright tonight.", translation: "‰ªäÊôöÊúà‰∫ÆÂæà‰∫Æ„ÄÇ" },
            { word: "mop", pos: "n/v", def: "ÊãñÊääÔºõÊãñÂú∞", sentence: "Please mop the floor.", translation: "Ë´ãÊãñÂú∞„ÄÇ" },
            { word: "more", pos: "adj/adv", def: "Êõ¥Â§öÁöÑ", sentence: "I need more time.", translation: "ÊàëÈúÄË¶ÅÊõ¥Â§öÊôÇÈñì„ÄÇ" },
            { word: "morning", pos: "noun", def: "Êó©Êô®", sentence: "Good morning!", translation: "Êó©ÂÆâÔºÅ" },
            { word: "mosquito", pos: "noun", def: "ËöäÂ≠ê", sentence: "I was bitten by a mosquito.", translation: "ÊàëË¢´ËöäÂ≠êÂèÆ‰∫Ü„ÄÇ" },
            { word: "most", pos: "adj/adv", def: "Â§ßÈÉ®ÂàÜÁöÑ„ÄÅÊúÄ", sentence: "Most people like music.", translation: "Â§ßÈÉ®ÂàÜÁöÑ‰∫∫ÂñúÊ≠°Èü≥Ê®Ç„ÄÇ" },
            { word: "mother", pos: "noun", def: "ÊØçË¶™", sentence: "My mother is a nurse.", translation: "ÊàëÊØçË¶™ÊòØË≠∑Â£´„ÄÇ" },
            { word: "motion", pos: "noun", def: "Âãï‰Ωú„ÄÅÁßªÂãï", sentence: "The car is in motion.", translation: "ËªäÂ≠êÊ≠£Âú®ÁßªÂãï‰∏≠„ÄÇ" },
            { word: "motorcycle", pos: "noun", def: "Ê©üËªä", sentence: "He rides a motorcycle to work.", translation: "‰ªñÈ®éÊ©üËªä‰∏äÁè≠„ÄÇ" },
            { word: "mountain", pos: "noun", def: "Â±±Â≤≥", sentence: "We climbed the mountain.", translation: "ÊàëÂÄëÁà¨‰∫ÜÈÇ£Â∫ßÂ±±„ÄÇ" },
            { word: "mouse", pos: "noun", def: "ËÄÅÈº†", sentence: "The cat caught a mouse.", translation: "Ë≤ìÊäìÂà∞‰∏ÄÈöªËÄÅÈº†„ÄÇ" },
            { word: "mouth", pos: "noun", def: "Âò¥Â∑¥", sentence: "Open your mouth.", translation: "ÂºµÈñã‰Ω†ÁöÑÂò¥Â∑¥„ÄÇ" },
            { word: "move", pos: "verb", def: "ÁßªÂãï„ÄÅÊê¨ÂÆ∂", sentence: "We are moving to a new house.", translation: "ÊàëÂÄëË¶ÅÊê¨Êñ∞ÂÆ∂‰∫Ü„ÄÇ" },
            { word: "movie", pos: "noun", def: "ÈõªÂΩ±", sentence: "Let's go see a movie.", translation: "ÊàëÂÄëÂéªÁúãÈõªÂΩ±Âêß„ÄÇ" },
            { word: "Mr.", pos: "noun", def: "ÂÖàÁîü", sentence: "Mr. Smith is busy.", translation: "Âè≤ÂØÜÊñØÂÖàÁîüÂæàÂøô„ÄÇ" },
            { word: "Mrs.", pos: "noun", def: "Â§™Â§™", sentence: "Mrs. Jones is cooking.", translation: "ÁìäÊñØÂ§™Â§™Ê≠£Âú®ÁÖÆÈ£Ø„ÄÇ" },
            { word: "MRT", pos: "noun", def: "Êç∑ÈÅã", sentence: "Taking the MRT is convenient.", translation: "Êê≠Êç∑ÈÅãÂæàÊñπ‰æø„ÄÇ" },
            { word: "Ms.", pos: "noun", def: "Â•≥Â£´", sentence: "Ms. Lee is single.", translation: "ÊùéÂ•≥Â£´ÂñÆË∫´„ÄÇ" },
            { word: "much", pos: "adj/adv", def: "Ë®±Â§öÁöÑ", sentence: "Thank you very much.", translation: "ÈùûÂ∏∏Ë¨ùË¨ù‰Ω†„ÄÇ" },
            { word: "mud", pos: "noun", def: "Ê≥•Â∑¥", sentence: "The dog is covered in mud.", translation: "ÈÇ£ÈöªÁãóÊªøË∫´Ê≥•Â∑¥„ÄÇ" },
            { word: "mug", pos: "noun", def: "È¶¨ÂÖãÊùØ", sentence: "I drink coffee from a mug.", translation: "ÊàëÁî®È¶¨ÂÖãÊùØÂñùÂíñÂï°„ÄÇ" },
            { word: "museum", pos: "noun", def: "ÂçöÁâ©È§®", sentence: "We visited the art museum.", translation: "ÊàëÂÄëÂèÉËßÄ‰∫ÜÁæéË°ìÈ§®„ÄÇ" },
            { word: "music", pos: "noun", def: "Èü≥Ê®Ç", sentence: "I listen to music every day.", translation: "ÊàëÊØèÂ§©ËÅΩÈü≥Ê®Ç„ÄÇ" },
            { word: "musician", pos: "noun", def: "Èü≥Ê®ÇÂÆ∂", sentence: "He is a talented musician.", translation: "‰ªñÊòØÂÄãÊúâÊâçËèØÁöÑÈü≥Ê®ÇÂÆ∂„ÄÇ" },
            { word: "must", aux: "aux.", def: "ÂøÖÈ†à", sentence: "You must finish your homework.", translation: "‰Ω†ÂøÖÈ†àÂÆåÊàêÂäüË™≤„ÄÇ" }
        ];

        let list = [...wordData];
        let idx = 0;
        const colors = ['#FF6B95', '#FFD93D', '#6BCB77', '#4D96FF', '#FF9F43'];

        function update() {
            if (!list.length) return showSuccess();
            const item = list[idx];
            const color = colors[Math.floor(Math.random() * colors.length)];
            const wordEl = document.getElementById('word-display');
            
            let fontSize = 64; 
            if (item.word.length > 11) fontSize = 42;
            else if (item.word.length > 9) fontSize = 52;
            
            wordEl.innerText = item.word;
            wordEl.style.fontSize = fontSize + "px";
            wordEl.style.color = color;
            
            document.getElementById('pos-display').innerText = `(${item.pos})`;
            document.querySelector('.card-front').style.borderColor = color;
            
            document.getElementById('def-display').innerText = item.def;
            document.getElementById('def-display').style.color = (color === '#FFD93D') ? '#FF6B95' : '#FFD93D';
            document.getElementById('sentence-en-display').innerText = item.sentence;
            document.getElementById('sentence-zh-display').innerText = item.translation;
            document.getElementById('card-back-face').style.backgroundColor = color;
            
            document.getElementById('card').classList.remove('flipped');
            updateProg();
        }

        function updateProg() {
            const m = wordData.length - list.length;
            document.getElementById('progress-fill').style.width = (m / wordData.length * 100) + "%";
            document.getElementById('progress-text').innerText = `${m} / ${wordData.length}`;
        }

        function flipCard() { document.getElementById('card').classList.toggle('flipped'); }
        function nextCard() { idx = (idx + 1) % list.length; update(); }
        function prevCard() { idx = (idx - 1 + list.length) % list.length; update(); }
        
        function markMastered() {
            list.splice(idx, 1);
            if (!list.length) return showSuccess();
            if (idx >= list.length) idx = 0;
            update();
        }

        function speakWord(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].word);
            m.lang = 'en-US';
            window.speechSynthesis.speak(m);
        }

        function speakSentence(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].sentence);
            m.lang = 'en-US';
            m.rate = 0.8;
            window.speechSynthesis.speak(m);
        }

        function showSuccess() {
            document.getElementById('learning-ui').style.display = 'none';
            document.getElementById('header-ui').style.display = 'none';
            document.getElementById('success-screen').style.display = 'flex';
        }

        function resetAll() {
            list = [...wordData]; idx = 0;
            document.getElementById('learning-ui').style.display = 'block';
            document.getElementById('header-ui').style.display = 'block';
            document.getElementById('success-screen').style.display = 'none';
            update();
        }

        window.onload = update;
    </script>
</body>
</html>
