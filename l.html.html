<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GEPT Level L - Â§öÂ∑¥ËÉ∫ÂñÆÂ≠óÂç° V8</title>
    <style>
        :root {
            --bg-color: #F8F9FA;
            --pink: #FF6B95;
            --yellow: #FFD93D;
            --green: #6BCB77;
            --blue: #4D96FF;
            --purple: #A29BFE;
            --orange: #FF9F43;
            --text-color: #2D3436;
        }

        body {
            font-family: 'PingFang TC', 'Microsoft JhengHei', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            padding: 5px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            overflow: hidden;
            box-sizing: border-box;
        }

        /* È†ÇÈÉ®ÈÄ≤Â∫¶Ê¢ù */
        .header {
            width: 100%;
            max-width: 420px;
            margin-bottom: 8px;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3px;
            font-size: 14px;
            font-weight: bold;
        }

        .progress-bar {
            height: 10px;
            background-color: #EEE;
            border-radius: 5px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--green), var(--yellow));
            width: 0%;
            transition: width 0.3s;
        }

        /* Ê†∏ÂøÉÂç°Áâá - 420x320 */
        .flashcard-container {
            width: 420px;
            height: 320px;
            perspective: 1000px;
            margin-bottom: 15px;
        }

        .flashcard {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            cursor: pointer;
        }

        .flashcard.flipped { transform: rotateY(180deg); }

        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            border-radius: 30px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            box-shadow: 0 8px 20px rgba(0,0,0,0.1);
        }

        .card-front {
            background-color: white;
            border: 10px solid var(--pink);
        }

        /* Ê≠£Èù¢ÂñÆÂ≠óÂ≠óÈ´î - Áî± JS ÂãïÊÖãÊéßÂà∂Â§ßÂ∞è */
        .word-text {
            font-weight: 900;
            color: var(--pink);
            margin: 0;
            line-height: 1.1;
            white-space: nowrap; 
        }

        .pos-text {
            font-size: 20px;
            color: #AAA;
            font-style: italic;
            margin-top: 8px;
        }

        .card-back {
            background-color: var(--blue);
            color: white;
            transform: rotateY(180deg);
        }

        /* ËÉåÈù¢Ë≥áË®ä‰ΩàÂ±Ä */
        .def-text {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 12px;
            color: var(--yellow);
        }

        .sentence-en {
            font-size: 21px;
            font-weight: 600;
            line-height: 1.2;
            margin-bottom: 10px;
        }

        .sentence-zh {
            font-size: 17px;
            background: rgba(255, 255, 255, 0.2);
            padding: 8px 15px;
            border-radius: 12px;
        }

        /* Ë™ûÈü≥ÊåâÈàï */
        .speak-btn {
            position: absolute;
            top: 15px;
            right: 15px;
            width: 42px;
            height: 42px;
            font-size: 22px;
            background: white;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 3px 8px rgba(0,0,0,0.1);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* ‰∏ãÊñπÊìç‰ΩúÈçµ */
        .controls {
            width: 420px;
            display: flex;
            justify-content: space-between;
            gap: 8px;
        }

        .nav-btn, .status-btn {
            height: 50px;
            border: 3px solid var(--text-color);
            border-radius: 12px;
            cursor: pointer;
            box-shadow: 0 4px 0 var(--text-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.1s;
        }

        .nav-btn {
            width: 55px;
            font-size: 22px;
            background-color: var(--purple);
            color: white;
        }

        .nav-btn.next { background-color: var(--yellow); color: var(--text-color); }

        .status-btn { flex: 1; font-size: 16px; }

        .btn-mastered { background-color: var(--green); color: white; }
        .btn-learning { background-color: white; color: var(--text-color); }

        .nav-btn:active, .status-btn:active {
            transform: translateY(3px);
            box-shadow: 0 1px 0 var(--text-color);
        }

        #success-screen {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            text-align: center;
        }

        @media (max-width: 430px) {
            .flashcard-container, .controls, .header { width: 95vw; }
            .flashcard-container { height: 75vw; }
        }
    </style>
</head>
<body>

    <div class="header" id="header-ui">
        <div class="progress-info">
            <span id="progress-text">0 / 74</span>
            <span onclick="resetAll()" style="font-size: 12px; cursor:pointer; color: #888;">‚Ü∫ ÂÖ®ÈÉ®Èáç‰æÜ</span>
        </div>
        <div class="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
        </div>
    </div>

    <div id="learning-ui">
        <div class="flashcard-container">
            <div class="flashcard" id="card" onclick="flipCard()">
                <div class="card-face card-front">
                    <button class="speak-btn" onclick="speakWord(event)">üîä</button>
                    <p class="word-text" id="word-display">Word</p>
                    <p class="pos-text" id="pos-display">(pos)</p>
                </div>
                <div class="card-face card-back" id="card-back-face">
                    <button class="speak-btn" onclick="speakSentence(event)" style="border: 1px solid #eee;">üîä</button>
                    <p class="def-text" id="def-display">ÂÆöÁæ©</p>
                    <p class="sentence-en" id="sentence-en-display">Sentence.</p>
                    <p class="sentence-zh" id="sentence-zh-display">ÁøªË≠Ø</p>
                </div>
            </div>
        </div>

        <div class="controls">
            <button class="nav-btn" onclick="prevCard()">‚¨Ö</button>
            <button class="status-btn btn-mastered" onclick="markMastered()">Â∑≤Á≤æÁÜü</button>
            <button class="status-btn btn-learning" onclick="nextCard()">Â≠∏Áøí‰∏≠</button>
            <button class="nav-btn next" onclick="nextCard()">‚û°</button>
        </div>
    </div>

    <div id="success-screen">
        <h1 style="color: var(--pink);">Â§™Ê£í‰∫ÜÔºÅüéâ</h1>
        <p>L Áæ§ÁµÑÂñÆÂ≠óÂ∑≤ÂÖ®ÈÉ®ÁÜüË®òÔºÅ</p>
        <button class="status-btn" onclick="resetAll()" style="width: 150px; margin-top: 15px;">ÈáçÊñ∞ÈñãÂßã</button>
    </div>

    <script>
        const wordData = [
            { word: "label", pos: "noun/verb", def: "Ê®ôÁ±§", sentence: "Read the label before you buy.", translation: "Ë≥ºË≤∑ÂâçÂÖàÈñ±ËÆÄÊ®ôÁ±§„ÄÇ" },
            { word: "labor", pos: "noun", def: "ÂãûÂäõ„ÄÅÂãûÂ∑•", sentence: "Manual labor is hard work.", translation: "È´îÂäõÂãûÂãïÊòØËæõËã¶ÁöÑÂ∑•‰Ωú„ÄÇ" },
            { word: "lack", pos: "verb/noun", def: "Áº∫‰πè", sentence: "He lacks confidence.", translation: "‰ªñÁº∫‰πèËá™‰ø°„ÄÇ" },
            { word: "ladder", pos: "noun", def: "Ê¢ØÂ≠ê", sentence: "He climbed up the ladder.", translation: "‰ªñÁà¨‰∏ä‰∫ÜÊ¢ØÂ≠ê„ÄÇ" },
            { word: "lady", pos: "noun", def: "Â•≥Â£´", sentence: "Ladies first.", translation: "Â•≥Â£´ÂÑ™ÂÖà„ÄÇ" },
            { word: "lake", pos: "noun", def: "ÊπñÊ≥ä", sentence: "We went swimming in the lake.", translation: "ÊàëÂÄëÂéªÊπñË£°Ê∏∏Ê≥≥„ÄÇ" },
            { word: "lamb", pos: "noun", def: "Â∞èÁæä„ÄÅÁæäËÇâ", sentence: "The lamb is very cute.", translation: "Â∞èÁæäÂæàÂèØÊÑõ„ÄÇ" },
            { word: "lamp", pos: "noun", def: "Ê™ØÁáà„ÄÅÁáà", sentence: "Turn on the lamp, please.", translation: "Ë´ãÊâìÈñãÊ™ØÁáà„ÄÇ" },
            { word: "land", pos: "noun/verb", def: "ÂúüÂú∞ÔºõËëóÈô∏", sentence: "The plane landed safely.", translation: "È£õÊ©üÂÆâÂÖ®ÈôçËêΩ„ÄÇ" },
            { word: "language", pos: "noun", def: "Ë™ûË®Ä", sentence: "English is a global language.", translation: "Ëã±Ë™ûÊòØÂÖ®ÁêÉÊÄßÁöÑË™ûË®Ä„ÄÇ" },
            { word: "large", pos: "adj.", def: "Â§ßÁöÑ", sentence: "He wears a large T-shirt.", translation: "‰ªñÁ©øÂ§ßËôüÁöÑTÊÅ§„ÄÇ" },
            { word: "last", pos: "adj/adv/v", def: "ÊúÄÂæåÁöÑÔºõÊåÅÁ∫å", sentence: "The meeting lasted for two hours.", translation: "ÊúÉË≠∞ÊåÅÁ∫å‰∫ÜÂÖ©Â∞èÊôÇ„ÄÇ" },
            { word: "late", pos: "adj/adv", def: "ÈÅ≤Âà∞ÁöÑ„ÄÅÊôöÁöÑ", sentence: "Don't be late for school.", translation: "‰∏äÂ≠∏‰∏çË¶ÅÈÅ≤Âà∞„ÄÇ" },
            { word: "later", pos: "adv.", def: "Á®çÂæå", sentence: "See you later.", translation: "ÂæÖÊúÉË¶ã„ÄÇ" },
            { word: "laugh", pos: "verb/noun", def: "Á¨ë", sentence: "They laughed at the joke.", translation: "‰ªñÂÄëÂõ†ÈÇ£ÂÄãÁ¨ëË©±ËÄåÂ§ßÁ¨ë„ÄÇ" },
            { word: "law", pos: "noun", def: "Ê≥ïÂæã", sentence: "We must obey the law.", translation: "ÊàëÂÄëÂøÖÈ†àÈÅµÂÆàÊ≥ïÂæã„ÄÇ" },
            { word: "lawyer", pos: "noun", def: "ÂæãÂ∏´", sentence: "You should talk to a lawyer.", translation: "‰Ω†ÊáâË©≤Ë∑üÂæãÂ∏´Ë´áË´á„ÄÇ" },
            { word: "lay", pos: "verb", def: "ÊîæÁΩÆ„ÄÅÁî¢Âçµ", sentence: "Hens lay eggs.", translation: "ÊØçÈõû‰∏ãËõã„ÄÇ" },
            { word: "lazy", pos: "adj.", def: "Êá∂ÊÉ∞ÁöÑ", sentence: "Don't be lazy.", translation: "‰∏çË¶ÅÊá∂ÊÉ∞„ÄÇ" },
            { word: "lead", pos: "verb", def: "ÂºïÂ∞é„ÄÅÂ∏∂È†ò", sentence: "The teacher leads the class.", translation: "ËÄÅÂ∏´Â∏∂È†òÁè≠Á¥ö„ÄÇ" },
            { word: "leader", pos: "noun", def: "È†òË¢ñ", sentence: "He is a born leader.", translation: "‰ªñÊòØÂ§©ÁîüÁöÑÈ†òË¢ñ„ÄÇ" },
            { word: "leaf", pos: "noun", def: "ËëâÂ≠ê", sentence: "The leaf turned red in autumn.", translation: "ËëâÂ≠êÂú®ÁßãÂ§©ËÆäÁ¥Ö‰∫Ü„ÄÇ" },
            { word: "learn", pos: "verb", def: "Â≠∏Áøí", sentence: "I want to learn Spanish.", translation: "ÊàëÊÉ≥Â≠∏Ë•øÁè≠ÁâôÊñá„ÄÇ" },
            { word: "least", pos: "adj/adv", def: "ÊúÄÂ∞ëÁöÑ", sentence: "At least give it a try.", translation: "Ëá≥Â∞ëË©¶Ë©¶Áúã„ÄÇ" },
            { word: "leave", pos: "verb", def: "Èõ¢Èñã„ÄÅÁïô‰∏ã", sentence: "Don't leave me alone.", translation: "‰∏çË¶ÅÊääÊàë‰∏ÄÂÄã‰∫∫‰∏ü‰∏ã„ÄÇ" },
            { word: "left", pos: "adj/adv/n", def: "Â∑¶ÈÇä", sentence: "Turn left at the corner.", translation: "Âú®ËΩâËßíÂ∑¶ËΩâ„ÄÇ" },
            { word: "leg", pos: "noun", def: "ËÖø", sentence: "My legs are tired.", translation: "ÊàëÁöÑËÖøÁ¥Ø‰∫Ü„ÄÇ" },
            { word: "lemon", pos: "noun", def: "Ê™∏Ê™¨", sentence: "Lemons are sour.", translation: "Ê™∏Ê™¨ÊòØÈÖ∏ÁöÑ„ÄÇ" },
            { word: "lend", pos: "verb", def: "Êää...ÂÄüÁµ¶", sentence: "Can you lend me a pen?", translation: "‰Ω†ÂèØ‰ª•ÂÄüÊàë‰∏ÄÊîØÁ≠ÜÂóéÔºü" },
            { word: "less", pos: "adj/adv", def: "ËºÉÂ∞ëÁöÑ", sentence: "Eat less sugar.", translation: "Â∞ëÂêÉÈªûÁ≥ñ„ÄÇ" },
            { word: "lesson", pos: "noun", def: "Ë™≤Á®ã„ÄÅÊïôË®ì", sentence: "I learned a valuable lesson.", translation: "ÊàëÂ≠∏Âà∞‰∫ÜÂØ∂Ë≤¥ÁöÑ‰∏ÄË™≤„ÄÇ" },
            { word: "let", pos: "verb", def: "ËÆì", sentence: "Let me help you.", translation: "ËÆìÊàëÂπ´‰Ω†„ÄÇ" },
            { word: "letter", pos: "noun", def: "‰ø°„ÄÅÂ≠óÊØç", sentence: "I wrote a letter to my friend.", translation: "ÊàëÂØ´‰∫Ü‰∏ÄÂ∞Å‰ø°Áµ¶ÊúãÂèã„ÄÇ" },
            { word: "lettuce", pos: "noun", def: "ËêµËã£„ÄÅÁîüËèú", sentence: "I like lettuce in my salad.", translation: "ÊàëÂñúÊ≠°Ê≤ôÊãâË£°ÊúâËêµËã£„ÄÇ" },
            { word: "level", pos: "noun", def: "Ê∞¥Âπ≥„ÄÅÁ®ãÂ∫¶", sentence: "What is your English level?", translation: "‰Ω†ÁöÑËã±ÊñáÁ®ãÂ∫¶Â¶Ç‰ΩïÔºü" },
            { word: "library", pos: "noun", def: "ÂúñÊõ∏È§®", sentence: "Please be quiet in the library.", translation: "Âú®ÂúñÊõ∏È§®Ë´ã‰øùÊåÅÂÆâÈùú„ÄÇ" },
            { word: "lick", pos: "verb", def: "Ëàî", sentence: "The dog licked my hand.", translation: "ÈÇ£ÈöªÁãóËàî‰∫ÜÊàëÁöÑÊâã„ÄÇ" },
            { word: "lid", pos: "noun", def: "ËìãÂ≠ê", sentence: "Put the lid back on the jar.", translation: "ÊääËìãÂ≠êËìãÂõûÁΩêÂ≠ê‰∏ä„ÄÇ" },
            { word: "lie", pos: "verb/noun", def: "Ë™™Ë¨äÔºõË∫∫", sentence: "Don't lie to me.", translation: "‰∏çË¶ÅÂ∞çÊàëË™™Ë¨ä„ÄÇ" },
            { word: "life", pos: "noun", def: "ÁîüÊ¥ª„ÄÅÁîüÂëΩ", sentence: "Life is beautiful.", translation: "ÁîüÂëΩÊòØÁæéÈ∫óÁöÑ„ÄÇ" },
            { word: "lift", pos: "verb/noun", def: "ËàâËµ∑ÔºõÈõªÊ¢Ø", sentence: "Can you help me lift this box?", translation: "‰Ω†ËÉΩÂπ´ÊàëÊä¨ÈÄôÂÄãÁÆ±Â≠êÂóéÔºü" },
            { word: "light", pos: "noun/adj", def: "ÂÖâ„ÄÅÁáàÔºõËºïÁöÑ", sentence: "The box is very light.", translation: "ÈÄôÂÄãÁÆ±Â≠êÂæàËºï„ÄÇ" },
            { word: "lightning", pos: "noun", def: "ÈñÉÈõª", sentence: "The tree was hit by lightning.", translation: "ÈÇ£Ê£µÊ®πË¢´ÈñÉÈõªÊìä‰∏≠„ÄÇ" },
            { word: "like", pos: "verb/prep", def: "ÂñúÊ≠°ÔºõÂÉè", sentence: "I like ice cream.", translation: "ÊàëÂñúÊ≠°ÂÜ∞Ê∑áÊ∑ã„ÄÇ" },
            { word: "likely", pos: "adj/adv", def: "ÂæàÂèØËÉΩÁöÑ", sentence: "It is likely to rain.", translation: "ÂæàÂèØËÉΩÊúÉ‰∏ãÈõ®„ÄÇ" },
            { word: "limit", pos: "noun/verb", def: "ÈôêÂà∂", sentence: "The speed limit is 50.", translation: "ÈÄüÈôêÊòØ50„ÄÇ" },
            { word: "line", pos: "noun", def: "Á∑ö„ÄÅÊéíÈöä", sentence: "Please wait in line.", translation: "Ë´ãÊéíÈöäÁ≠âÂÄô„ÄÇ" },
            { word: "link", pos: "noun/verb", def: "ÈÄ£Áµê", sentence: "Click the link below.", translation: "ÈªûÊìä‰∏ãÊñπÁöÑÈÄ£Áµê„ÄÇ" },
            { word: "lion", pos: "noun", def: "ÁçÖÂ≠ê", sentence: "The lion is the king of animals.", translation: "ÁçÖÂ≠êÊòØËê¨Áç∏‰πãÁéã„ÄÇ" },
            { word: "lip", pos: "noun", def: "Âò¥Âîá", sentence: "She has red lips.", translation: "Â•πÊúâÁ¥ÖÊΩ§ÁöÑÂò¥Âîá„ÄÇ" },
            { word: "liquid", pos: "noun", def: "Ê∂≤È´î", sentence: "Water is a liquid.", translation: "Ê∞¥ÊòØÊ∂≤È´î„ÄÇ" },
            { word: "list", pos: "noun/verb", def: "Ê∏ÖÂñÆÔºõÂàóÂá∫", sentence: "Make a shopping list.", translation: "Âàó‰∏ÄÂºµË≥ºÁâ©Ê∏ÖÂñÆ„ÄÇ" },
            { word: "listen", pos: "verb", def: "ËÅÜËÅΩ", sentence: "Listen to the music.", translation: "ËÅΩÈü≥Ê®Ç„ÄÇ" },
            { word: "liter", pos: "noun", def: "ÂÖ¨Âçá", sentence: "I bought a liter of milk.", translation: "ÊàëË≤∑‰∫Ü‰∏ÄÂÖ¨ÂçáÁöÑÁâõÂ•∂„ÄÇ" },
            { word: "little", pos: "adj/adv", def: "Â∞èÁöÑ„ÄÅÂ∞ëË®±", sentence: "I have a little money.", translation: "ÊàëÊúâ‰∏ÄÈªûÈªûÈå¢„ÄÇ" },
            { word: "live", pos: "verb", def: "Â±Ö‰Ωè„ÄÅÁîüÂ≠ò", sentence: "Where do you live?", translation: "‰Ω†‰ΩèÂú®Âì™Ë£°Ôºü" },
            { word: "liver", pos: "noun", def: "ËÇùËáü", sentence: "Drinking too much hurts your liver.", translation: "ÂñùÂ§™Â§öÈÖíÂÇ∑ËÇù„ÄÇ" },
            { word: "living room", pos: "noun", def: "ÂÆ¢Âª≥", sentence: "We watch TV in the living room.", translation: "ÊàëÂÄëÂú®ÂÆ¢Âª≥ÁúãÈõªË¶ñ„ÄÇ" },
            { word: "load", pos: "noun/verb", def: "Ë≤†Ëç∑ÔºõË£ùËºâ", sentence: "The truck is carrying a heavy load.", translation: "Âç°ËªäËºâËëóÈáçÁâ©„ÄÇ" },
            { word: "loaf", pos: "noun", def: "‰∏ÄÊ¢ù(È∫µÂåÖ)", sentence: "I bought a loaf of bread.", translation: "ÊàëË≤∑‰∫Ü‰∏ÄÊ¢ùÈ∫µÂåÖ„ÄÇ" },
            { word: "local", pos: "adj.", def: "Áï∂Âú∞ÁöÑ", sentence: "Support local businesses.", translation: "ÊîØÊåÅÂú®Âú∞ÂïÜÂÆ∂„ÄÇ" },
            { word: "lock", pos: "noun/verb", def: "ÈéñÔºõÈéñ‰∏ä", sentence: "Did you lock the door?", translation: "‰Ω†ÈéñÈñÄ‰∫ÜÂóéÔºü" },
            { word: "locker", pos: "noun", def: "ÁΩÆÁâ©Ê´É", sentence: "Put your bag in the locker.", translation: "ÊääÂåÖÂåÖÊîæÂú®ÁΩÆÁâ©Ê´ÉË£°„ÄÇ" },
            { word: "lonely", pos: "adj.", def: "ÂØÇÂØûÁöÑ", sentence: "He feels lonely without friends.", translation: "Ê≤íÊúâÊúãÂèã‰ªñË¶∫ÂæóÂæàÂØÇÂØû„ÄÇ" },
            { word: "long", pos: "adj.", def: "Èï∑ÁöÑ", sentence: "She has long hair.", translation: "Â•πÊúâÈï∑È†≠È´Æ„ÄÇ" },
            { word: "look", pos: "verb/noun", def: "ÁúãÔºõÁúãËµ∑‰æÜ", sentence: "You look tired.", translation: "‰Ω†ÁúãËµ∑‰æÜÂæàÁ¥Ø„ÄÇ" },
            { word: "lose", pos: "verb", def: "Â§±Âéª„ÄÅËº∏Êéâ", sentence: "Don't lose hope.", translation: "‰∏çË¶ÅÂ§±ÂéªÂ∏åÊúõ„ÄÇ" },
            { word: "loser", pos: "noun", def: "Ëº∏ÂÆ∂", sentence: "Nobody wants to be a loser.", translation: "Ê≤í‰∫∫ÊÉ≥Áï∂Ëº∏ÂÆ∂„ÄÇ" },
            { word: "loud", pos: "adj.", def: "Â§ßËÅ≤ÁöÑ", sentence: "The music is too loud.", translation: "Èü≥Ê®ÇÂ§™Â§ßËÅ≤‰∫Ü„ÄÇ" },
            { word: "love", pos: "verb/noun", def: "ÊÑõ", sentence: "I love you.", translation: "ÊàëÊÑõ‰Ω†„ÄÇ" },
            { word: "lovely", pos: "adj.", def: "ÂèØÊÑõÁöÑ", sentence: "It is a lovely day.", translation: "‰ªäÂ§©ÊòØÁæéÂ•ΩÁöÑ‰∏ÄÂ§©„ÄÇ" },
            { word: "low", pos: "adj.", def: "‰ΩéÁöÑ", sentence: "The price is very low.", translation: "ÂÉπÊ†ºÂæà‰Ωé„ÄÇ" },
            { word: "luck", pos: "noun", def: "ÈÅãÊ∞£", sentence: "Good luck!", translation: "Á•ù‰Ω†Â•ΩÈÅãÔºÅ" },
            { word: "lucky", pos: "adj.", def: "Âπ∏ÈÅãÁöÑ", sentence: "You are very lucky.", translation: "‰Ω†ÂæàÂπ∏ÈÅã„ÄÇ" },
            { word: "lunch", pos: "noun", def: "ÂçàÈ§ê", sentence: "Let's have lunch together.", translation: "ÊàëÂÄë‰∏ÄËµ∑ÂêÉÂçàÈ§êÂêß„ÄÇ" }
        ];

        let list = [...wordData];
        let idx = 0;
        const colors = ['#FF6B95', '#FFD93D', '#6BCB77', '#4D96FF', '#FF9F43'];

        function update() {
            if (!list.length) return showSuccess();
            const item = list[idx];
            const color = colors[Math.floor(Math.random() * colors.length)];
            const wordEl = document.getElementById('word-display');
            
            // ÂãïÊÖãÂ≠óÈ´îÁ∏ÆÊîæÈÇèËºØ
            let fontSize = 64; 
            if (item.word.length > 11) fontSize = 42;
            else if (item.word.length > 9) fontSize = 50;
            
            wordEl.innerText = item.word;
            wordEl.style.fontSize = fontSize + "px";
            wordEl.style.color = color;
            
            document.getElementById('pos-display').innerText = `(${item.pos})`;
            document.querySelector('.card-front').style.borderColor = color;
            
            document.getElementById('def-display').innerText = item.def;
            document.getElementById('def-display').style.color = (color === '#FFD93D') ? '#FF6B95' : '#FFD93D';
            document.getElementById('sentence-en-display').innerText = item.sentence;
            document.getElementById('sentence-zh-display').innerText = item.translation;
            document.getElementById('card-back-face').style.backgroundColor = color;
            
            document.getElementById('card').classList.remove('flipped');
            updateProg();
        }

        function updateProg() {
            const m = wordData.length - list.length;
            document.getElementById('progress-fill').style.width = (m / wordData.length * 100) + "%";
            document.getElementById('progress-text').innerText = `${m} / ${wordData.length}`;
        }

        function flipCard() { document.getElementById('card').classList.toggle('flipped'); }
        function nextCard() { idx = (idx + 1) % list.length; update(); }
        function prevCard() { idx = (idx - 1 + list.length) % list.length; update(); }
        
        function markMastered() {
            list.splice(idx, 1);
            if (!list.length) return showSuccess();
            if (idx >= list.length) idx = 0;
            update();
        }

        function speakWord(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].word);
            m.lang = 'en-US';
            window.speechSynthesis.speak(m);
        }

        function speakSentence(e) {
            e.stopPropagation();
            const m = new SpeechSynthesisUtterance(list[idx].sentence);
            m.lang = 'en-US';
            m.rate = 0.8;
            window.speechSynthesis.speak(m);
        }

        function showSuccess() {
            document.getElementById('learning-ui').style.display = 'none';
            document.getElementById('header-ui').style.display = 'none';
            document.getElementById('success-screen').style.display = 'flex';
        }

        function resetAll() {
            list = [...wordData]; idx = 0;
            document.getElementById('learning-ui').style.display = 'block';
            document.getElementById('header-ui').style.display = 'block';
            document.getElementById('success-screen').style.display = 'none';
            update();
        }

        window.onload = update;
    </script>
</body>
</html>

